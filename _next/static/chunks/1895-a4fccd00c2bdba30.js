"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1895],{33954:function(e,r,t){t.d(r,{ZU:function(){return useBestAMMTrade}});var o=t(80332),n=t(5675),a=t(43692),i=t(9299),u=t(51438),l=t(30989),c=t(56904),s=t(52983),d=t(69451);let m={[o.a_.BSC_TESTNET]:1e4,[o.a_.BSC]:1e4,[o.a_.ETHEREUM]:2e4,[o.a_.GOERLI]:2e4,[o.a_.ARBITRUM_ONE]:1e4,[o.a_.ARBITRUM_GOERLI]:1e4,[o.a_.POLYGON_ZKEVM]:15e3,[o.a_.POLYGON_ZKEVM_TESTNET]:15e3,[o.a_.ZKSYNC]:15e3,[o.a_.ZKSYNC_TESTNET]:15e3,[o.a_.LINEA]:2e4,[o.a_.LINEA_TESTNET]:2e4,[o.a_.OPBNB]:1e4,[o.a_.OPBNB_TESTNET]:1e4,[o.a_.BASE]:1e4,[o.a_.BASE_TESTNET]:1e4,[o.a_.SCROLL_SEPOLIA]:1e4,[o.a_.SEPOLIA]:2e4,[o.a_.ARBITRUM_SEPOLIA]:1e4,[o.a_.BASE_SEPOLIA]:1e4},v={[o.a_.BSC_TESTNET]:15e3,[o.a_.BSC]:15e3,[o.a_.ETHEREUM]:2e4,[o.a_.GOERLI]:2e4,[o.a_.ARBITRUM_ONE]:15e3,[o.a_.ARBITRUM_GOERLI]:15e3,[o.a_.POLYGON_ZKEVM]:15e3,[o.a_.POLYGON_ZKEVM_TESTNET]:15e3,[o.a_.ZKSYNC]:3e4,[o.a_.ZKSYNC_TESTNET]:15e3,[o.a_.LINEA]:2e4,[o.a_.LINEA_TESTNET]:2e4,[o.a_.OPBNB]:15e3,[o.a_.OPBNB_TESTNET]:15e3,[o.a_.BASE]:15e3,[o.a_.BASE_TESTNET]:15e3,[o.a_.SCROLL_SEPOLIA]:15e3,[o.a_.SEPOLIA]:2e4,[o.a_.ARBITRUM_SEPOLIA]:15e3,[o.a_.BASE_SEPOLIA]:15e3},f={[o.a_.BSC_TESTNET]:2e4,[o.a_.BSC]:2e4,[o.a_.ETHEREUM]:4e4,[o.a_.GOERLI]:4e4,[o.a_.ARBITRUM_ONE]:2e4,[o.a_.ARBITRUM_GOERLI]:2e4,[o.a_.POLYGON_ZKEVM]:2e4,[o.a_.POLYGON_ZKEVM_TESTNET]:2e4,[o.a_.ZKSYNC]:4e4,[o.a_.ZKSYNC_TESTNET]:2e4,[o.a_.LINEA]:3e4,[o.a_.LINEA_TESTNET]:3e4,[o.a_.OPBNB]:2e4,[o.a_.OPBNB_TESTNET]:2e4,[o.a_.BASE]:2e4,[o.a_.BASE_TESTNET]:2e4,[o.a_.SCROLL_SEPOLIA]:2e4,[o.a_.SEPOLIA]:4e4,[o.a_.ARBITRUM_SEPOLIA]:2e4,[o.a_.BASE_SEPOLIA]:2e4};var y=t(78519),p=t(56326),T=t(56367),b=t(52016),h=t(85507),g=t(8913),S=t(74954),P=t(58833),_=t(86413);function useV3CandidatePoolsWithoutTicks(e,r,t){let o=(0,s.useMemo)(()=>{if(!e||!r||e.wrapped.equals(r.wrapped))return"";let t=e.wrapped.sortsBefore(r.wrapped)?[e.symbol,r.symbol]:[r.symbol,e.symbol];return[...t,e.chainId].join("_")},[e,r]),n=(0,s.useMemo)(()=>(null==e?void 0:e.chainId)&&m[e.chainId]||0,[null==e?void 0:e.chainId]),{data:a,refetch:u,isPending:c,isFetching:d,error:v}=(0,l.a)({queryKey:["v3_candidate_pools",o],queryFn:async()=>{let n=await i.SmartRouter.getV3CandidatePools({currencyA:e,currencyB:r,subgraphProvider:e=>{let{chainId:r}=e;return r?P.mN[r]:void 0},onChainProvider:h.NP,blockNumber:null==t?void 0:t.blockNumber});return{key:o,pools:n,blockNumber:null==t?void 0:t.blockNumber}},retry:2,staleTime:n,refetchInterval:n,refetchOnWindowFocus:!1,enabled:!!(e&&r&&o&&(null==t?void 0:t.enabled))});return{refresh:u,pools:null==a?void 0:a.pools,loading:c,syncing:d,blockNumber:null==a?void 0:a.blockNumber,key:null==a?void 0:a.key,error:v}}candidatePoolsOnChainHookFactory("V2",i.SmartRouter.getV2PoolsOnChain);let k=candidatePoolsOnChainHookFactory("Stable",i.SmartRouter.getStablePoolsOnChain);function candidatePoolsOnChainHookFactory(e,r){return function(t,o){var n;let{blockNumber:a,enabled:u=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=(0,s.useRef)(null),d=(0,s.useMemo)(()=>{if(!t||!o||t.wrapped.equals(o.wrapped))return"";let e=t.wrapped.sortsBefore(o.wrapped)?[t.symbol,o.symbol]:[o.symbol,t.symbol];return[...e,t.chainId].join("_")},[t,o]),m=(0,s.useMemo)(()=>t&&o&&i.SmartRouter.getPairCombinations(t,o),[t,o]),v=!!(u&&a&&d&&m),f=(0,l.a)({queryKey:[e,"pools",d],queryFn:async()=>{if(!a||!m)throw Error("Failed to get pools on chain. Missing valid params");c.current=a.toString();try{let t=`[POOLS_ONCHAIN](${e}) ${d} at block ${c.current}`;i.SmartRouter.logger.metric(t);let o=await r(m,h.NP,a);return i.SmartRouter.logger.metric(t,o),{pools:o,key:d,blockNumber:a}}finally{c.current=null}},enabled:v,refetchOnWindowFocus:!1}),{refetch:y,data:p,isLoading:T,isFetching:b}=f;return(0,s.useEffect)(()=>{v&&a&&c.current!==a.toString()&&(!(null==p?void 0:p.blockNumber)||a>p.blockNumber)&&y()},[a,null==p?void 0:p.blockNumber,v]),{refresh:y,pools:null!==(n=null==p?void 0:p.pools)&&void 0!==n?n:null,loading:T,syncing:b,blockNumber:null==p?void 0:p.blockNumber,key:null==p?void 0:p.key}}}function commonPoolsHookCreator(e){let{useV3Pools:r}=e;return function(e,t){let{blockNumber:o,allowInconsistentBlock:n=!1,enabled:a=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{pools:u,loading:c,syncing:d,blockNumber:v,refresh:f}=r(e,t,{blockNumber:o,enabled:a}),{pools:y,loading:p,syncing:T,blockNumber:b,refresh:g}=function(e,r,t){var o;let n=(0,s.useMemo)(()=>{let r=null==e?void 0:e.chainId;return r&&m[r]||0},[e]),a=(0,s.useMemo)(()=>{if(!e||!r||e.wrapped.equals(r.wrapped))return"";let t=e.wrapped.sortsBefore(r.wrapped)?[e.symbol,r.symbol]:[r.symbol,e.symbol];return[...t,e.chainId].join("_")},[e,r]),u=(0,s.useRef)(void 0),c=!!((null==t?void 0:t.enabled)&&a),d=(0,l.a)({queryKey:["V2_Candidate_Pools",a],queryFn:async()=>{var o;u.current=null==t?void 0:null===(o=t.blockNumber)||void 0===o?void 0:o.toString();try{let o=await i.SmartRouter.getV2CandidatePools({currencyA:e,currencyB:r,v2SubgraphProvider:e=>{let{chainId:r}=e;return(0,P.rN)(r)},v3SubgraphProvider:e=>{let{chainId:r}=e;return r?P.mN[r]:void 0},onChainProvider:h.NP});return{pools:o,key:a,blockNumber:null==t?void 0:t.blockNumber}}finally{u.current=void 0}},enabled:!!(c&&a),refetchInterval:n,refetchOnWindowFocus:!1,retry:3}),{refetch:v,data:f,isLoading:y,isFetching:p}=d;return{pools:null!==(o=null==f?void 0:f.pools)&&void 0!==o?o:null,loading:y,syncing:p,blockNumber:null==f?void 0:f.blockNumber,refresh:v}}(e,t,{blockNumber:o,enabled:a}),{pools:S,loading:_,syncing:E,blockNumber:N,refresh:I}=k(e,t,{blockNumber:o,enabled:a}),A=(0,s.useMemo)(()=>b&&N&&v&&b===N&&N===v?b:void 0,[b,v,N]),C=(0,s.useMemo)(()=>(!p||y)&&(!c||u)&&(!_||S)&&(n||A)?[...y||[],...u||[],...S||[]]:void 0,[p,y,c,u,_,S,n,A]),B=(0,s.useCallback)(()=>{f(),g(),I()},[f,g,I]),w=p||c||_;return{refresh:B,pools:C,blockNumber:A,loading:w,syncing:T||d||E}}}candidatePoolsOnChainHookFactory("V3 without ticks",i.SmartRouter.getV3PoolsWithoutTicksOnChain);let E=commonPoolsHookCreator({key:"useCommonPools",useV3Pools:function(e,r,t){let{pools:o,loading:n,syncing:a,key:u,blockNumber:c,refresh:d,error:m}=useV3CandidatePoolsWithoutTicks(e,r,t),{data:v,isLoading:y,isFetching:p}=function(e){let{key:r,blockNumber:t,enabled:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,s.useMemo)(()=>{var r,t;let o=null==e?void 0:null===(t=e[0])||void 0===t?void 0:null===(r=t.token0)||void 0===r?void 0:r.chainId;return o&&f[o]||0},[e]),a=(0,l.a)({queryKey:["v3_pool_ticks",r],queryFn:async()=>{if(!e)throw Error("Invalid pools to get ticks");let o=`[V3_POOL_TICKS] ${r} ${null==t?void 0:t.toString()}`;i.SmartRouter.logger.metric(o);let n=await Promise.all(e.map(async e=>{let{token0:r}=e;return(0,_.M)(r.chainId,i.SmartRouter.getPoolAddress(e)).then(e=>e.map(e=>{let{tick:r,liquidityNet:t,liquidityGross:o}=e;return new S.dR({index:Number(r),liquidityNet:t,liquidityGross:o})}))}));return i.SmartRouter.logger.metric(o,n),{pools:null==e?void 0:e.map((e,r)=>({...e,ticks:n[r]})),key:r,blockNumber:t}},enabled:!!(r&&e&&o),refetchInterval:n,refetchOnReconnect:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,retry:3});return a}(o,{key:u,blockNumber:c,enabled:null==t?void 0:t.enabled}),T=null==v?void 0:v.pools;return{refresh:d,error:m,pools:T,loading:n||y,syncing:a||p,blockNumber:null==v?void 0:v.blockNumber}}}),N=commonPoolsHookCreator({key:"useCommonPoolsLite",useV3Pools:useV3CandidatePoolsWithoutTicks});var I=t(41468),A=t(56128);let C=[o.a_.BASE];var B=t(52501);function useBestAMMTrade(e){let{type:r="quoter",...t}=e,{amount:o,baseCurrency:n,currency:a,autoRevalidate:i,enabled:u=!0}=t,l=(0,y.hN)(n,a,null==o?void 0:o.toExact()),c=(0,s.useMemo)(()=>!!(!l&&("quoter"===r||"auto"===r)),[r,l]),d=(0,s.useMemo)(()=>!!(!l&&"api"===r),[l,r]),m="boolean"==typeof i?i:d,v=R({...t,enabled:!!(u&&d),autoRevalidate:m}),f="boolean"==typeof i?i:c,p=w({...t,enabled:!!(u&&c&&!d),autoRevalidate:f});return(0,s.useMemo)(()=>d?v:p,[v,p,d])}function createSimpleUseGetBestTradeHook(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.SmartRouter.getBestTrade;return function(){return(0,s.useCallback)(e,[])}}function bestTradeHookFactory(e){let{key:r,useCommonPools:t,createQuoteProvider:o,quoterOptimization:u=!0,useGetBestTrade:d=createSimpleUseGetBestTradeHook()}=e;return function(e){var m,f,y,S;let{amount:P,baseCurrency:_,currency:k,tradeType:E=a.YL.EXACT_INPUT,maxHops:N,maxSplits:B,v2Swap:w=!0,v3Swap:R=!0,stableSwap:M=!0,enabled:O=!0,autoRevalidate:L,trackPerf:F}=e,$=d(),{gasPrice:q}=(0,T.VM)(),W=function(e){let r=(0,s.useMemo)(()=>!!(e&&C.includes(e)),[e]),t=(0,s.useMemo)(()=>(0,A.CW)(e),[e]),o=(0,s.useMemo)(()=>(0,h.NP)({chainId:e}),[e]),{data:n}=(0,l.a)({queryKey:[e],queryFn:async()=>{if(!e)throw Error("chainId is not defined");return(0,A.MV)({chainId:e,client:o})},enabled:!!(e&&o&&!r),refetchOnMount:!1,refetchOnReconnect:!1,refetchInterval:3e4,refetchOnWindowFocus:!1});return(0,s.useMemo)(()=>r?t:n,[n,r,t])}(null==k?void 0:k.chainId),U=(0,n.nD)(_,k),G=(0,s.useRef)(!0);U&&(G.current=!1);let V=(0,p.je)(),{refresh:x,pools:Z,loading:K,syncing:H}=t(_||(null==P?void 0:P.currency),null!=k?k:void 0,{blockNumber:V,allowInconsistentBlock:!0,enabled:O}),Q=(0,s.useMemo)(()=>i.SmartRouter.createStaticPoolProvider(Z),[Z]),z=(0,s.useDeferredValue)(null==P?void 0:null===(m=P.quotient)||void 0===m?void 0:m.toString()),Y=(0,n.Nr)(z,500),{data:j}=(0,I.J)(null!=k?k:void 0),{data:D}=(0,I.J)((null==k?void 0:k.chainId)?a._r.onChain(k.chainId):void 0),X=(0,s.useMemo)(()=>{let e=[];return w&&e.push(i.W4.V2),R&&e.push(i.W4.V3),M&&e.push(i.W4.STABLE),e},[w,R,M]),{data:J,status:ee,fetchStatus:er,isPlaceholderData:et,error:eo}=(0,l.a)({queryKey:[r,null==k?void 0:k.chainId,null==P?void 0:null===(f=P.currency)||void 0===f?void 0:f.symbol,null==k?void 0:k.symbol,E,Y,N,B,X],queryFn:async e=>{let{signal:t}=e;if(!P||!P.currency||!k||!Y)return;let n=o({gasLimit:W,signal:t}),l=a.ih.fromRawAmount(P.currency,Y),c=`[BEST_AMM](${r}) chain ${k.chainId}, ${l.toExact()} ${P.currency.symbol} -> ${k.symbol}, tradeType ${E}`,s=performance.now();i.SmartRouter.logger.log(c),i.SmartRouter.logger.metric(c,Z);let d=await $(l,k,E,{gasPriceWei:"bigint"==typeof q?q:async()=>(0,g.z2)({chainId:P.currency.chainId}).getGasPrice(),maxHops:N,poolProvider:Q,maxSplits:B,quoteProvider:n,allowedPoolTypes:X,quoterOptimization:u,quoteCurrencyUsdPrice:j,nativeCurrencyUsdPrice:D,signal:t}),m=Math.floor(performance.now()-s);if(F&&b.ap.log(`[PERF] ${r} duration:${m}ms`,{chainId:k.chainId,label:r,duration:m}),d)return i.SmartRouter.logger.metric(c,d.inputAmount.toExact(),d.inputAmount.currency.symbol,"->",d.outputAmount.toExact(),d.outputAmount.currency.symbol,d.routes),i.SmartRouter.logger.log(c,d),{...d,blockNumber:V}},enabled:!!(P&&k&&Z&&!K&&Y&&O),refetchOnWindowFocus:!1,placeholderData:G.current?c.Wk:void 0,retry:!1,staleTime:L&&(null==P?void 0:P.currency.chainId)?v[P.currency.chainId]:0,refetchInterval:L&&(null==P?void 0:P.currency.chainId)?v[null==P?void 0:null===(y=P.currency)||void 0===y?void 0:y.chainId]:0});return(0,s.useEffect)(()=>{!G.current&&J&&(G.current=!0)},[J,G]),{refresh:x,trade:J,isLoading:"pending"===ee||et||K,isStale:(null==J?void 0:J.blockNumber)!==V,error:eo,syncing:H||"fetching"===er||(null==P?void 0:null===(S=P.quotient)||void 0===S?void 0:S.toString())!==Y&&void 0!==Y}}}function createQuoteProvider(e){let{gasLimit:r,signal:t}=e,o=(0,h.Pr)({transportSignal:t});return i.SmartRouter.createQuoteProvider({onChainProvider:o,gasLimit:r})}function createUseWorkerGetBestTrade(){return function(){let e=(0,B.iq)();return(0,s.useCallback)(async(r,t,o,n)=>{var a,u;let{maxHops:l,maxSplits:c,allowedPoolTypes:s,poolProvider:d,gasPriceWei:m,quoteProvider:v,nativeCurrencyUsdPrice:f,quoteCurrencyUsdPrice:y,signal:p}=n;if(!e)throw Error("Quote worker not initialized");let T=await d.getCandidatePools({currencyA:r.currency,currencyB:t,protocols:s}),b=null==v?void 0:null===(a=v.getConfig)||void 0===a?void 0:a.call(v),h=await e.getBestTrade({chainId:t.chainId,currency:i.SmartRouter.Transformer.serializeCurrency(t),tradeType:o,amount:{currency:i.SmartRouter.Transformer.serializeCurrency(r.currency),value:r.quotient.toString()},gasPriceWei:"function"!=typeof m?null==m?void 0:m.toString():void 0,maxHops:l,maxSplits:c,poolTypes:s,candidatePools:T.map(i.SmartRouter.Transformer.serializePool),onChainQuoterGasLimit:null==b?void 0:null===(u=b.gasLimit)||void 0===u?void 0:u.toString(),quoteCurrencyUsdPrice:y,nativeCurrencyUsdPrice:f,signal:p});return i.SmartRouter.Transformer.parseTrade(t.chainId,h)},[e])}}i.SmartRouter.logger.enable("error,log"),bestTradeHookFactory({key:"useBestAMMTradeFromOffchain",useCommonPools:E,createQuoteProvider:function(){return i.SmartRouter.createOffChainQuoteProvider()}}),bestTradeHookFactory({key:"useBestAMMTradeFromQuoter",useCommonPools:N,createQuoteProvider,quoterOptimization:!1}),bestTradeHookFactory({key:"useBestAMMTradeFromQuoterApi",useCommonPools:N,createQuoteProvider,useGetBestTrade:createSimpleUseGetBestTradeHook(async(e,r,t,o)=>{let{maxHops:n,maxSplits:a,gasPriceWei:u,allowedPoolTypes:l,poolProvider:c}=o,s=await c.getCandidatePools({currencyA:e.currency,currencyB:r,protocols:l}),m=await fetch(`${d.t7}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chainId:r.chainId,currency:i.SmartRouter.Transformer.serializeCurrency(r),tradeType:t,amount:{currency:i.SmartRouter.Transformer.serializeCurrency(e.currency),value:e.quotient.toString()},gasPriceWei:"function"!=typeof u?null==u?void 0:u.toString():void 0,maxHops:n,maxSplits:a,poolTypes:l,candidatePools:s.map(i.SmartRouter.Transformer.serializePool)})}),v=await m.json();return i.SmartRouter.Transformer.parseTrade(r.chainId,v)}),quoterOptimization:!1});let w=bestTradeHookFactory({key:"useBestAMMTradeFromQuoterWorker",useCommonPools:N,createQuoteProvider,useGetBestTrade:createUseWorkerGetBestTrade(),quoterOptimization:!1}),R=bestTradeHookFactory({key:"useBestAMMTradeFromQuoterWorker2",useCommonPools:N,createQuoteProvider:function(e){let{gasLimit:r,signal:t}=e,n=(0,h.Pr)({transportSignal:t});return i.SmartRouter.createQuoteProvider({onChainProvider:n,gasLimit:r,multicallConfigs:{...u.$Z,[o.a_.BSC]:{...u.$Z[o.a_.BSC],defaultConfig:{gasLimitPerCall:1e6}}}})},useGetBestTrade:createUseWorkerGetBestTrade(),quoterOptimization:!1})},97833:function(e,r,t){t.d(r,{d:function(){return useCallWithGasPrice}});var o=t(52983),n=t(56367),a=t(8913),i=t(59776),u=t(37528),l=t(70395);function useCallWithGasPrice(){let e=(0,n.Fh)(),{chainId:r}=(0,l.g)(),{data:t}=(0,i.py)(),c=(0,o.useCallback)(async(o,n,i,l)=>{if(!o)throw Error("No valid contract");if(!t)throw Error("No valid wallet connect");let{gas:c,...s}=l||{},d=c;d||(d=await (0,a.z2)({chainId:r}).estimateContractGas({abi:o.abi,address:o.address,account:t.account,functionName:n,args:i,value:0n,...s}));let m=await t.writeContract({abi:o.abi,address:o.address,account:t.account,functionName:n,args:i,gasPrice:e,gas:(0,u.yC)(d),value:0n,...s});return{hash:m}},[r,e,t]);return{callWithGasPrice:c}}},41468:function(e,r,t){t.d(r,{J:function(){return useCurrencyUsdPrice}});var o=t(30989),n=t(3432),a=t(3453),i=t(49451);let u=(0,i.Ue)({fetcher:async e=>(0,a.eE)(e),resolver(e,r){var t;let o=(0,a.KJ)(r);return o&&null!==(t=e[o])&&void 0!==t?t:0},scheduler:(0,i.ck)(60)});function useCurrencyUsdPrice(e){let{enabled:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.a)({queryKey:["currencyPrice",null==e?void 0:e.chainId,null==e?void 0:e.wrapped.address],queryFn:async()=>{if(!e)throw Error("No currency provided");return u.fetch(e)},staleTime:n.KI,refetchInterval:n.KI,enabled:!!(r&&e)})}},42367:function(e,r,t){t.d(r,{U:function(){return useStablecoinPrice},t:function(){return useStablecoinPriceAmount}});var o=t(80332),n=t(43692),a=t(73643),i=t(1858),u=t(20023),l=t(52983),c=t(33293),s=t(13228),d=t(60137),m=t(70395),v=t(33954),f=t(41468);let y={enabled:!0,hideIfPriceImpactTooHigh:!1};function useStablecoinPrice(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,{chainId:t}=(0,m.g)(),s=null==e?void 0:e.chainId,{enabled:p,hideIfPriceImpactTooHigh:T}={...y,...r},b=(0,u.a)(),h=s&&s in o.a_?a.PH[s]:void 0,g=s&&e&&a.cr[s]&&e.wrapped.equals(a.cr[s]),S=e&&h&&e.wrapped.equals(h),P=!!(e&&h&&p&&t===s&&!g&&!S),{data:_,isLoading:k}=(0,f.J)(e,{enabled:P}),E=(0,l.useMemo)(()=>h?n.ih.fromRawAmount(h,5*10**h.decimals):void 0,[h]),{trade:N}=(0,v.ZU)({amount:E,currency:null!=e?e:void 0,baseCurrency:h,tradeType:n.YL.EXACT_OUTPUT,maxSplits:0,enabled:!!(!k&&!_&&P),autoRevalidate:!1,type:"api"}),I=(0,l.useMemo)(()=>{if(e&&h&&p){if(g&&b)return new n.tA(e,h,1*10**e.decimals,(0,i.t)(h.decimals).times(b.toFixed(h.decimals)).toString());if(S)return new n.tA(h,h,"1","1");if(_)return new n.tA(e,h,1*10**e.decimals,(0,i.t)(h.decimals).times(_.toFixed(h.decimals)).toString());if(N){let{inputAmount:r,outputAmount:t}=N;if(T){let{priceImpactWithoutFee:e}=(0,d.U7)(N);if(!e||(0,c.oX)(e)>2)return}return new n.tA(e,h,r.quotient,t.quotient)}}},[e,h,p,g,b,S,_,N,T]);return I}let useStablecoinPriceAmount=(e,r,t)=>{let o=useStablecoinPrice(e,{enabled:!!e,...t});if(r&&o)return(0,s.a)(o,r)}},78519:function(e,r,t){t.d(r,{ZP:function(){return useWrapCallback},hN:function(){return useIsWrapping},kC:function(){return n}});var o,n,a=t(43692),i=t(52983),u=t(19232),l=t(99247),c=t(78471),s=t(26440),d=t(23865),m=t(2866),v=t(97833);(o=n||(n={}))[o.NOT_APPLICABLE=0]="NOT_APPLICABLE",o[o.WRAP=1]="WRAP",o[o.UNWRAP=2]="UNWRAP";let f={wrapType:0};function useWrapCallback(e,r,t){let{t:o}=(0,u.Z)(),{account:n,chainId:y}=(0,d.Z)(),{callWithGasPrice:p}=(0,v.d)(),T=(0,m.vR)(),b=(0,s._h)(null!=n?n:void 0,e),h=(0,i.useMemo)(()=>(0,l.Z)(t,e),[e,t]),g=(0,c.h7)();return(0,i.useMemo)(()=>{var t,n;if(!T||!y||!e||!r)return f;let i=h&&b&&!b.lessThan(h);return(null==e?void 0:e.isNative)&&(null===(t=a.FX[y])||void 0===t?void 0:t.equals(r))?{wrapType:1,execute:i&&h?async()=>{try{let r=await p(T,"deposit",void 0,{value:h.quotient}),t=h.toSignificant(6),o=e.symbol,n=a.FX[y].symbol;g(r,{summary:`Wrap ${t} ${o} to ${n}`,translatableSummary:{text:"Wrap %amount% %native% to %wrap%",data:{amount:t,native:o,wrap:n}},type:"wrap"})}catch(e){console.error("Could not deposit",e)}}:void 0,inputError:i?void 0:o("Insufficient %symbol% balance",{symbol:e.symbol})}:(null===(n=a.FX[y])||void 0===n?void 0:n.equals(e))&&(null==r?void 0:r.isNative)?{wrapType:2,execute:i&&h?async()=>{try{let e=await p(T,"withdraw",[h.quotient]),t=h.toSignificant(6),o=a.FX[y].symbol,n=r.symbol;g(e,{summary:`Unwrap ${t} ${o} to ${n}`,translatableSummary:{text:"Unwrap %amount% %wrap% to %native%",data:{amount:t,wrap:o,native:n}}})}catch(e){console.error("Could not withdraw",e)}}:void 0,inputError:i?void 0:o("Insufficient %symbol% balance",{symbol:e.symbol})}:f},[T,y,e,r,o,h,b,g,p])}function useIsWrapping(e,r,t){let{wrapType:o}=useWrapCallback(e,r,t);return 0!==o}},86413:function(e,r,t){t.d(r,{M:function(){return getPoolTicks},Z:function(){return useAllV3TicksQuery}});var o=t(74954),n=t(30989),a=t(13138),i=t(70395),u=t(52983),l=t(58833);function useAllV3TicksQuery(e,r){let{chainId:t}=(0,i.g)(),{data:o,isLoading:a,error:c}=(0,n.a)({queryKey:[`useAllV3TicksQuery-${e}-${t}`],queryFn:async()=>{if(t&&e)return getPoolTicks(t,e)},enabled:!!(e&&t&&l.mN[t]),refetchInterval:r,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return(0,u.useMemo)(()=>({error:c,isLoading:a,data:o}),[o,c,a])}async function getPoolTicks(e,r,t){let n=[],a=o.pk.MIN_TICK-1;for(;;){let o=await _getPoolTicksGreaterThan(e,r,a,1e3,t);n=[...n,...o];let i=1e3===o.length;if(!i)break;a=Number(o[o.length-1].tick)}return n}async function _getPoolTicksGreaterThan(e,r,t,o,n){let i=l.mN[e];if(!i)return[];let u=await i.request(a.gql`
        query AllV3Ticks($poolAddress: String!, $lastTick: Int!, $pageSize: Int!) {
          ticks(
            first: $pageSize,
            ${n?`block: { number: ${n} }`:""}
            where: {
              poolAddress: $poolAddress,
              tickIdx_gt: $lastTick,
            },
            orderBy: tickIdx
          ) {
        tick: tickIdx
        liquidityNet
        liquidityGross
          }
        }
      `,{poolAddress:r.toLowerCase(),lastTick:t,pageSize:o});return u.ticks}},26440:function(e,r,t){t.d(r,{K5:function(){return useCurrencyBalances},Z:function(){return useTokenBalances},_h:function(){return useCurrencyBalance},mM:function(){return useTokenBalance},uD:function(){return useAllTokenBalances},v2:function(){return useTokenBalancesWithLoadingIndicator}});var o=t(43692),n=t(93692),a=t(33649),i=t(21994),u=t(40916),l=t.n(u),c=t(52983),s=t(37528),d=t(8068),m=t(81824),v=t(33086),f=t(59776),y=t(43043);function useTokenBalancesWithLoadingIndicator(e,r){let t=(0,c.useMemo)(()=>{var e;return null!==(e=null==r?void 0:r.filter(e=>e&&(0,m.U)(e.address)))&&void 0!==e?e:[]},[r]),n=(0,c.useMemo)(()=>t.map(e=>e.address),[t]),a=(0,y._Y)({abi:v.em,addresses:n,functionName:"balanceOf",args:(0,c.useMemo)(()=>[e],[e]),options:{enabled:!!(e&&n.length>0)}}),i=(0,c.useMemo)(()=>a.some(e=>e.loading),[a]);return[(0,c.useMemo)(()=>e&&t.length>0?t.reduce((e,r,t)=>{var n;let i=null==a?void 0:null===(n=a[t])||void 0===n?void 0:n.result,u=void 0!==i?BigInt(i.toString()):void 0;return void 0!==u&&(e[r.address]=o.ih.fromRawAmount(r,u)),e},{}):{},[e,t,a]),i]}function useTokenBalances(e,r){return useTokenBalancesWithLoadingIndicator(e,r)[0]}function useTokenBalance(e,r){let t=useTokenBalances(e,(0,c.useMemo)(()=>[r],[r]));if(r)return t[r.address]}function useCurrencyBalances(e,r){let t=(0,c.useMemo)(()=>{var e;return null!==(e=null==r?void 0:r.filter(e=>null==e?void 0:e.isToken))&&void 0!==e?e:[]},[...null!=r?r:[]]),a=useTokenBalances(e,t),u=(0,c.useMemo)(()=>{var e;return null!==(e=null==r?void 0:r.some(e=>null==e?void 0:e.isNative))&&void 0!==e&&e},[...null!=r?r:[]]),m=(0,c.useMemo)(()=>u?[e]:[],[u,e]),v=function(e){let r=(0,i.Z)(),t=(0,c.useMemo)(()=>e?l()(e.map(s.xP).filter(e=>void 0!==e)):[],[e]),a=(0,y.es)({contract:(0,c.useMemo)(()=>({abi:n.a,address:(0,d.I8)(r.chainId)}),[r]),functionName:"getEthBalance",args:(0,c.useMemo)(()=>t.map(e=>[e]),[t])});return(0,c.useMemo)(()=>t.reduce((e,t,n)=>{var i;let u=null==a?void 0:null===(i=a[n])||void 0===i?void 0:i.result;return void 0!==u&&(e[t]=o.ih.fromRawAmount(r,BigInt(u.toString()))),e},{}),[t,a,r])}(m);return(0,c.useMemo)(()=>{var t;return null!==(t=null==r?void 0:r.map(r=>{if(e&&r){if(null==r?void 0:r.isToken)return a[r.address];if(null==r?void 0:r.isNative)return v[e]}}))&&void 0!==t?t:[]},[e,...null!=r?r:[],v,a])}function useCurrencyBalance(e,r){return useCurrencyBalances(e,(0,c.useMemo)(()=>[r],[r]))[0]}function useAllTokenBalances(){let{address:e}=(0,f.mA)(),r=(0,a.e_)(),t=(0,c.useMemo)(()=>Object.values(null!=r?r:{}),[r]),o=useTokenBalances(null!=e?e:void 0,t);return null!=o?o:{}}},13228:function(e,r,t){t.d(r,{a:function(){return multiplyPriceByAmount}});let multiplyPriceByAmount=function(e,r){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;if(!e)return 0;try{return parseFloat(e.toSignificant(t))*r}catch(e){return 0}}},60137:function(e,r,t){t.d(r,{Kh:function(){return formatExecutionPrice},U7:function(){return computeTradePriceBreakdown},b5:function(){return computeSlippageAdjustedAmounts},rc:function(){return v3FeeToPercent}});var o=t(43692),n=t(9299),a=t(55221),i=t(78010),u=t(38786),l=t(33293);function computeSlippageAdjustedAmounts(e,r){let t=(0,l.P4)(r);return{[u.gN.INPUT]:e&&n.SmartRouter.maximumAmountIn(e,t),[u.gN.OUTPUT]:e&&n.SmartRouter.minimumAmountOut(e,t)}}function computeTradePriceBreakdown(e){if(!e)return{priceImpactWithoutFee:void 0,lpFeeAmount:null};let{routes:r,outputAmount:t,inputAmount:a}=e,u=new o.gG(0),l=o.ih.fromRawAmount(e.outputAmount.wrapped.currency,0);for(let e of r){let{inputAmount:r,pools:t,percent:a}=e,c=o.yC.subtract(t.reduce((e,r)=>n.SmartRouter.isV2Pool(r)?e.multiply(i.Zw):n.SmartRouter.isStablePool(r)?e.multiply(o.yC.subtract(r.fee)):n.SmartRouter.isV3Pool(r)?e.multiply(o.yC.subtract(v3FeeToPercent(r.fee))):e,o.yC));u=u.add(c.multiply(new o.gG(a,100)));let s=n.SmartRouter.getMidPrice(e);l=l.add(s.quote(r.wrapped))}if(l.quotient===o.xE)return{priceImpactWithoutFee:void 0,lpFeeAmount:null};let c=l.subtract(t.wrapped).divide(l),s=new o.gG(c.numerator,c.denominator),d=s.subtract(u),m=a.multiply(u);return{priceImpactWithoutFee:d,lpFeeAmount:m}}function formatExecutionPrice(e,r,t,o){return e&&r&&t?o?`${(0,a.T4)(e.invert(),6)} ${r.currency.symbol} / ${t.currency.symbol}`:`${(0,a.T4)(e,6)} ${t.currency.symbol} / ${r.currency.symbol}`:""}function v3FeeToPercent(e){return new o.gG(e,100n*i.PM)}},39754:function(e,r,t){t.d(r,{Z:function(){return Card_Card}});var o=t(97458);t(52983);var n=t(21058),a=t(62656),i=t(13729),u=t(86370),l=t(56175);let c=a.zo.div.withConfig({shouldForwardProp:n.ZP})`
  background: ${e=>{let{isActive:r,isSuccess:t,isWarning:o,borderBackground:n,theme:a}=e;return n||(o?a.colors.warning:t?a.colors.success:r?`linear-gradient(180deg, ${a.colors.primaryBright}, ${a.colors.secondary})`:a.colors.cardBorder)}};
  border-radius: ${e=>{let{theme:r}=e;return r.radii.card}};
  color: ${e=>{let{theme:r,isDisabled:t}=e;return r.colors[t?"textDisabled":"text"]}};
  overflow: hidden;
  position: relative;

  ${e=>{let{isActive:r}=e;return r&&a.iv`
      animation: ${u.DS} 3s ease infinite;
      background-size: 400% 400%;
    `}}

  padding: 1px 1px 3px 1px;

  ${i.Dh}
`,s=(0,a.zo)(l.ZP)`
  width: 100%;
  height: 100%;
  overflow: ${e=>{let{hasCustomBorder:r}=e;return r?"initial":"inherit"}};
  background: ${e=>{let{theme:r,background:t}=e;return null!=t?t:r.card.background}};
  border-radius: ${e=>{let{theme:r}=e;return r.radii.card}};
`;c.defaultProps={isActive:!1,isSuccess:!1,isWarning:!1,isDisabled:!1};var Card_Card=e=>{let{ribbon:r,children:t,background:n,innerCardProps:a,...i}=e;return(0,o.jsx)(c,{...i,children:(0,o.jsxs)(s,{...a,background:n,hasCustomBorder:!!i.borderBackground,children:[r,t]})})}},99247:function(e,r,t){var o=t(79738),n=t(14070);r.Z=function(e,r){if(e&&r)try{let t=(0,n.v)(e,r.decimals).toString();if("0"!==t)return o.ih.fromRawAmount(r,BigInt(t))}catch(r){console.debug(`Failed to parse input amount: "${e}"`,r)}}}}]);
//# sourceMappingURL=1895-a4fccd00c2bdba30.js.map