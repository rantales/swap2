"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4911],{79722:function(e,t,n){n.d(t,{p:function(){return r.p}});var r=n(29151)},78259:function(e,t,n){n.d(t,{A:function(){return CommitButton}});var r=n(97458),o=n(57562),i=n(87115),a=n(13030),l=n(70395),s=n(1109),d=n(3343);let u={variant:"danger",disabled:!1,children:(0,r.jsx)(d.Z,{children:"Wrong Network"})},CommitButton=e=>{let{isWrongNetwork:t}=(0,l.g)(),[n]=(0,i.c)(),d=(0,a.b9)(s.v);return(0,r.jsx)(o.Z,{...e,onClick:n=>{if(t)d(!1);else{var r;null===(r=e.onClick)||void 0===r||r.call(e,n)}},...n&&{disabled:!0},...t&&u})}},29646:function(e,t,n){n.d(t,{_:function(){return TabToggleGroup},o:function(){return d}});var r=n(97458),o=n(39290),i=n(56175),a=n(62656);let l=(0,a.zo)(o.Z)`
  overflow-x: auto;
  padding: 0;
  border-radius: 24px 24px 0 0;
  ::-webkit-scrollbar {
    display: none;
  }
  scrollbar-width: none; /* Firefox */
`,s=(0,a.zo)(o.Z)`
  justify-content: space-between;
  background-color: ${e=>{let{theme:t}=e;return t.colors.input}};
  width: 100%;
`,d=(0,a.zo)(i.ZP).attrs({as:"button"})`
  display: inline-flex;
  justify-content: center;
  cursor: pointer;
  flex: 1;
  border: 0;
  outline: 0;
  margin: 0;
  border-radius: 24px 24px 0 0;
  font-size: 16px;
  font-weight: 600;
  color: ${e=>{let{theme:t,isActive:n}=e;return n?t.colors.text:t.colors.textSubtle}};
  background-color: ${e=>{let{theme:t,isActive:n}=e;return n?t.card.background:t.colors.input}};
  box-shadow: none;
`;d.defaultProps={p:"16px"};let TabToggleGroup=e=>{let{children:t}=e;return(0,r.jsx)(l,{p:["0 4px","0 16px"],children:(0,r.jsx)(s,{children:t})})}},63633:function(e,t,n){n.d(t,{Eh:function(){return d},Ob:function(){return s},SS:function(){return u},_J:function(){return a},y6:function(){return l}});var r=n(62656),o=n(24216),i=n(39290);let a=(0,r.zo)(o.Z)`
  cursor: pointer;
  display: flex;
  justify-content: start;
  gap: 5px;
`,l=(0,r.zo)(i.Z)`
  width: 100%;
  padding-top: 16px;
  flex-direction: column;
  gap: 16px;
  background-color: ${e=>{let{theme:t}=e;return t.card.background}};
  border: 1px solid ${e=>{let{theme:t}=e;return t.colors.cardBorder}};
  border-radius: ${e=>{let{theme:t}=e;return t.radii.card}};
  ${e=>{let{theme:t}=e;return t.mediaQueries.md}} {
    border-radius: ${e=>{let{theme:t}=e;return t.radii.card}};
  }
  overflow: hidden;
`,s=r.zo.div`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 0.2em;
  margin-bottom: 1.2em;
`,d=r.zo.div`
  color: ${e=>{let{theme:t}=e;return t.colors.primary}};
  padding: 0 20px;
  &:hover {
    cursor: pointer;
  }
`,u=r.zo.div`
  height: 1px;
  background-color: ${e=>{let{theme:t}=e;return t.colors.cardBorder}};
  width: 100%;
`},19117:function(e,t,n){var r=n(97458),o=n(24216);t.Z=e=>{let{value:t,...n}=e;if(!t||Number.isNaN(t))return(0,r.jsx)(o.Z,{...n,children:"-"});let i=t<0;return(0,r.jsxs)(o.Z,{...n,color:i?"failure":"success",children:[i?"↓":"↑",Math.abs(t).toFixed(2),"%"]})}},64555:function(e,t,n){n.d(t,{O:function(){return SwapFeaturesProvider},a:function(){return u}});var r=n(97458),o=n(80332),i=n(37939),a=n(97306),l=n(70395),s=n(52983),d=n(56367);let u=(0,s.createContext)({isHotTokenSupported:!1,isChartSupported:!1,isStableSupported:!1,isAccessTokenSupported:!1,isChartExpanded:!1,isChartDisplayed:!1,setIsChartExpanded:null,setIsChartDisplayed:null}),c=[o.a_.BSC,o.a_.BSC_TESTNET],p=[o.a_.BSC_TESTNET,o.a_.BSC],m=[o.a_.BSC,o.a_.ETHEREUM],SwapFeaturesProvider=e=>{let{children:t}=e,{isMobile:n}=(0,i.Z)(),{chainId:o}=(0,l.g)(),[x,h]=(0,d.vD)(n),[f,g]=(0,s.useState)(!1),y=(0,s.useMemo)(()=>!o||c.includes(o),[o]),v=(0,s.useMemo)(()=>!o||p.includes(o),[o]),T=(0,s.useMemo)(()=>!!(o&&a.g.includes(o)),[o]),b=(0,s.useMemo)(()=>!!(o&&m.includes(o)),[o]),j=(0,s.useMemo)(()=>({isHotTokenSupported:b,isChartSupported:y,isStableSupported:v,isAccessTokenSupported:T,isChartDisplayed:x,setIsChartDisplayed:h,isChartExpanded:f,setIsChartExpanded:g}),[b,y,v,T,x,h,f]);return(0,r.jsx)(u.Provider,{value:j,children:t})}},15803:function(e,t,n){n.d(t,{Ld:function(){return m},im:function(){return d},k0:function(){return p},ly:function(){return f},nR:function(){return u},rn:function(){return SwapCallbackError},y:function(){return c}});var r=n(97458),o=n(39290),i=n(24216),a=n(32536),l=n(22232),s=n(62656);let d=(0,s.zo)(o.Z)`
  position: relative;
  flex-direction: column;
  justify-content: space-between;
  padding: 1rem;
`,u=s.zo.div`
  padding: 2px;

  ${e=>{let{clickable:t}=e;return t?s.iv`
          &:hover {
            cursor: pointer;
            opacity: 0.8;
          }
        `:null}}
`,c=(0,s.zo)(i.Z)`
  color: ${e=>{let{theme:t,severity:n}=e;return 3===n||4===n?t.colors.failure:2===n?t.colors.warning:1===n?t.colors.text:t.colors.success}};
`,p=s.zo.button`
  height: 22px;
  width: 22px;
  background-color: ${e=>{let{theme:t}=e;return t.colors.background}};
  border: none;
  border-radius: 50%;
  padding: 0.2rem;
  font-size: 0.875rem;
  font-weight: 400;
  margin-left: 0.4rem;
  cursor: pointer;
  color: ${e=>{let{theme:t}=e;return t.colors.text}};
  display: flex;
  justify-content: center;
  align-items: center;
  float: right;

  &:hover {
    background-color: ${e=>{let{theme:t}=e;return t.colors.dropdown}};
  }
  &:focus {
    background-color: ${e=>{let{theme:t}=e;return t.colors.dropdown}};
    outline: none;
  }
`,m=(0,s.zo)(i.Z).attrs({ellipsis:!0})`
  width: 220px;
`,x=s.zo.div`
  background-color: ${e=>{let{theme:t}=e;return`${t.colors.failure33}`}};
  border-radius: 1rem;
  display: flex;
  align-items: center;
  font-size: 0.825rem;
  width: 100%;
  padding: 3rem 1.25rem 1rem 1rem;
  margin-top: -2rem;
  color: ${e=>{let{theme:t}=e;return t.colors.failure}};
  z-index: -1;
  p {
    padding: 0;
    margin: 0;
    font-weight: 500;
  }
`,h=s.zo.div`
  background-color: ${e=>{let{theme:t}=e;return`${t.colors.failure33}`}};
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 12px;
  border-radius: 12px;
  min-width: 48px;
  height: 48px;
`;function SwapCallbackError(e){let{error:t}=e;return(0,r.jsxs)(x,{children:[(0,r.jsx)(h,{children:(0,r.jsx)(a.Z,{width:"24px"})}),(0,r.jsx)("p",{children:t})]})}let f=(0,s.zo)(l.Tz)`
  background-color: ${e=>{let{theme:t}=e;return`${t.colors.warning33}`}};
  padding: 0.5rem;
  border-radius: 12px;
  margin-top: 8px;
`},14911:function(e,t,n){n.d(t,{Z:function(){return Swap}});var r,o,i,a,l,s,d,u,c=n(97458),p=n(19232),m=n(37939),x=n(39290),h=n(37822),f=n(29543),g=n(25306),y=n(8),v=n(42956),T=n(16203),b=n(52983),j=n(90733),w=n(56285),A=n(33649),k=n(78753),S=n(38786),C=n(88495),E=n(1568),P=n(64555),Z=n(9299),I=n(14633),N=n.n(I),M=n(56175),U=n(43692),D=n(80841),R=n(78010),O=n(70395);let F=[{inputs:[{internalType:"address",name:"weth",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"mm",type:"address"},{indexed:!1,internalType:"address",name:"treasury",type:"address"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"bool",name:"active",type:"bool"}],name:"CreateMMInfo",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"mm",type:"address"},{indexed:!1,internalType:"address",name:"user",type:"address"}],name:"IncrementNonce",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"mm",type:"address"}],name:"RemoveMMInfo",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"mm",type:"address"},{indexed:!1,internalType:"address",name:"mmTreasury",type:"address"},{indexed:!1,internalType:"address",name:"baseToken",type:"address"},{indexed:!1,internalType:"address",name:"quoteToken",type:"address"},{indexed:!1,internalType:"uint256",name:"baseTokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"quoteTokenAmount",type:"uint256"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"mm",type:"address"},{indexed:!1,internalType:"address",name:"treasury",type:"address"},{indexed:!1,internalType:"bool",name:"active",type:"bool"}],name:"UpdateMMInfo",type:"event"},{inputs:[{internalType:"address",name:"_mm",type:"address"},{internalType:"address",name:"_treasury",type:"address"},{internalType:"string",name:"_name",type:"string"},{internalType:"bool",name:"_active",type:"bool"}],name:"createMMInfo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_mm",type:"address"}],name:"getMMInfo",outputs:[{internalType:"string",name:"",type:"string"},{internalType:"address",name:"",type:"address"},{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_mm",type:"address"},{internalType:"address",name:"_user",type:"address"}],name:"getUserNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"incrementNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_token",type:"address"}],name:"redeemToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_mm",type:"address"}],name:"removeMMInfo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_mmSigner",type:"address"},{components:[{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"baseToken",type:"address"},{internalType:"address",name:"quoteToken",type:"address"},{internalType:"uint256",name:"baseTokenAmount",type:"uint256"},{internalType:"uint256",name:"quoteTokenAmount",type:"uint256"},{internalType:"uint256",name:"expiryTimestamp",type:"uint256"}],internalType:"struct PancakeSwapMMPool.Quote",name:"_quote",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"swap",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_treasury",type:"address"},{internalType:"bool",name:"_active",type:"bool"}],name:"updateMMInfo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{components:[{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"baseToken",type:"address"},{internalType:"address",name:"quoteToken",type:"address"},{internalType:"uint256",name:"baseTokenAmount",type:"uint256"},{internalType:"uint256",name:"quoteTokenAmount",type:"uint256"},{internalType:"uint256",name:"expiryTimestamp",type:"uint256"}],internalType:"struct PancakeSwapMMPool.Quote",name:"_quote",type:"tuple"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"verifyQuoteSignature",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}];var _=n(2866),B=n(29153),L=n.n(B),$=n(80332),z=n(13147),q=n(56560);let V=(0,q.K)("0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"),W={1:!0,5:!0,56:!0},G=z.Z.mmLinkedPool,Q={[$.a_.ETHEREUM]:{"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48":"USDC","0xdAC17F958D2ee523a2206206994597C13D831ec7":"USDT","0x6B175474E89094C44Da98b954EedeAC495271d0F":"DAI","0x4Fabb145d64652a948d72533023f6E7A623C7C53":"BUSD"},[$.a_.BSC]:{"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56":"BUSD","0x55d398326f99059fF775485246999027B3197955":"USDT","0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d":"USDC"},[$.a_.GOERLI]:{}},H={[$.a_.BSC]:{1:"0xff8Ba4D1fC3762f6154cc942CCF30049A2A0cEC6",2:"0xe68290F7FAEeB35648B5440D644A80d82766E03d"},[$.a_.ETHEREUM]:{1:"0xff8Ba4D1fC3762f6154cc942CCF30049A2A0cEC6"},[$.a_.GOERLI]:{1:"0x13414B047539298D5aeD429722211681eAAb43B7"}};function computeTradePriceBreakdown(e){var t,n,r,o,i,a,l,s,d,u;let c=e?R.yC:void 0,p=Q[null==e?void 0:null===(n=e.inputAmount)||void 0===n?void 0:null===(t=n.currency)||void 0===t?void 0:t.chainId],m=!!((null==e?void 0:null===(o=e.inputAmount)||void 0===o?void 0:null===(r=o.currency)||void 0===r?void 0:r.isToken)&&(null==e?void 0:null===(a=e.outputAmount)||void 0===a?void 0:null===(i=a.currency)||void 0===i?void 0:i.isToken)&&p[null==e?void 0:null===(s=e.inputAmount)||void 0===s?void 0:null===(l=s.currency)||void 0===l?void 0:l.address]&&p[null==e?void 0:null===(u=e.outputAmount)||void 0===u?void 0:null===(d=u.currency)||void 0===d?void 0:d.address]),x=U.fI,h=x?U.fI:void 0,f=new U.iA(5,1e4),g=new U.iA(1,1e4),y=c&&e&&(m?e.inputAmount.multiply(g):e.inputAmount.multiply(f));return{priceImpactWithoutFee:h,lpFeeAmount:y}}function executionPrice(e){let{inputAmount:t,outputAmount:n}=e;return new U.tA(t.currency,n.currency,t.quotient,n.quotient)}let tryParseUnit=(e,t)=>{let n;if(!e||!t)return n;try{n=(0,D.v)(e,t).toString()}catch{n=(0,D.v)(`${L()(e).toFixed(t)}`,t).toString()}return n},parseMMParameter=(e,t,n,r,o,i,a)=>e&&t&&n&&n&&r&&o?{networkId:e,takerSideToken:(null==t?void 0:t.isToken)?t.address:a?V:t.wrapped.address,makerSideToken:(null==n?void 0:n.isToken)?n.address:a?V:n.wrapped.address,takerSideTokenAmount:r===S.gN.INPUT&&o&&"0"!==o?tryParseUnit(o,t.decimals):void 0,makerSideTokenAmount:r===S.gN.OUTPUT&&o&&"0"!==o?tryParseUnit(o,null==n?void 0:n.decimals):void 0,trader:null!=i?i:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"}:null,parseMMTrade=(e,t,n,r,o)=>{if(!t||!n||!r||!o)return null;let i={tradeType:e?U.YL.EXACT_INPUT:U.YL.EXACT_OUTPUT,inputAmount:U.ih.fromRawAmount(t,BigInt(r)),outputAmount:U.ih.fromRawAmount(n,BigInt(o)),routes:[{inputAmount:U.ih.fromRawAmount(t,BigInt(r)),outputAmount:U.ih.fromRawAmount(n,BigInt(o)),type:Z.Yt.MM,pools:[],percent:100,path:[t,n]}],gasEstimate:null,gasEstimateInUSD:null};return i},shouldShowMMLiquidityError=e=>null!=e&&!!e.includes("not found"),parseMMError=e=>{var t,n,r,o,i,a;return(null==e?void 0:e.includes("Amount is below"))?`Minimum Amount (~$30) to trade with MM: ${Math.ceil(1e3*L()(null!==(n=null===(t=e.split(":"))||void 0===t?void 0:t[1])&&void 0!==n?n:0))/1e3}`:(null==e?void 0:e.includes("Amount is above"))?`Maximum Amount to trade with MM: ${null!==(a=L()(null!==(i=null===(o=e.split(":"))||void 0===o?void 0:o[1])&&void 0!==i?i:0).toFixed(3))&&void 0!==a?a:""}`:(null==e?void 0:e.includes("insufficient_liquidity"))?"MM insufficient liquidity":e};var X=n(91327);let MMLiquidityWarning=()=>{let{t:e}=(0,p.Z)();return(0,c.jsx)(X.Z,{title:e("MMs are temporarily unable to facilitate trades. Please try again later"),variant:"info"})};var K=n(5675),Y=n(54917),J=n(23865),ee=n(30989),et=n(59776),en=n(1850);(r=l||(l={})).RFQ_REQUEST="RFQ_REQUEST",r.RFQ_RESPONSE="RFQ_RESPONSE",r.ORDER_BOOK_PRICE_RESPONSE="ORDER_BOOK_PRICE_RESPONSE",r.RFQ_SUCCESS="RFQ_SUCCESS",r.RFQ_ERROR="RFQ_ERROR";let er=(0,en.Ry)({messageType:(0,en.jb)(l),message:(0,en.Ry)({makerSideToken:(0,en.Z_)(),takerSideToken:(0,en.Z_)(),makerSideTokenAmount:(0,en.Z_)(),takerSideTokenAmount:(0,en.Z_)(),rfqId:(0,en.Z_)(),mmId:(0,en.Z_)().optional(),signature:(0,en.Z_)(),quoteExpiry:(0,en.Rx)()})}),eo="https://linked-pool.pancakeswap.com/quote-service",getMMOrderBook=async e=>{try{let t=await fetch(`${eo}/order-book-price`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();return n}catch(e){return Promise.reject(e)}},sendRFQAndGetRFQId=async e=>{try{let t=await fetch(`${eo}/rfq`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();return n}catch(e){return Promise.reject(e)}},getRFQById=async e=>{let t=await fetch(`${eo}/rfq/${e}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}),n=await t.json();if((null==n?void 0:n.messageType)===l.RFQ_ERROR){var r,o,i,a;if((null==n?void 0:null===(r=n.message)||void 0===r?void 0:r.error)==="RFQ not found")throw new RFQErrorNotFound(null==n?void 0:null===(o=n.message)||void 0===o?void 0:o.error,404!==t.status);if(null==n?void 0:null===(i=n.message)||void 0===i?void 0:i.error.includes(RFQInsufficientError.originMessage))throw new RFQInsufficientError;throw new MMError(null==n?void 0:null===(a=n.message)||void 0===a?void 0:a.error)}return er.parse(n),n};let MMError=class MMError extends Error{constructor(e){super(e),this.internalError=e,this.message="Unable request a quote"}};let RFQErrorNotFound=class RFQErrorNotFound extends MMError{constructor(e,t){super(),this.internalError=e,t?this.message="Quoting":this.message="Cannot find quote now. Please try again later.",this.shouldRetry=t}};let RFQInsufficientError=class RFQInsufficientError extends MMError{constructor(){super(),this.shouldRetry=!1,this.message="Insufficient liquidity. Please try again later."}};RFQInsufficientError.originMessage="insufficient_liquidity";let useGetRFQId=(e,t,n,r)=>{var o,i,a;let{address:l}=(0,et.mA)();n&&(n.current=`${null==e?void 0:e.networkId}/${null==e?void 0:e.makerSideToken}/${null==e?void 0:e.takerSideToken}/${null==e?void 0:e.makerSideTokenAmount}/${null==e?void 0:e.takerSideTokenAmount}`);let s=!!(t&&l&&e&&(null==e?void 0:e.trader)&&((null==e?void 0:e.makerSideTokenAmount)&&(null==e?void 0:e.makerSideTokenAmount)!=="0"||(null==e?void 0:e.takerSideTokenAmount)&&(null==e?void 0:e.takerSideTokenAmount)!=="0")),{data:d,refetch:u,isPending:c}=(0,ee.a)({queryKey:[`RFQ/${null==n?void 0:n.current}`],queryFn:()=>sendRFQAndGetRFQId(e),refetchInterval:2e4,retry:!0,refetchOnWindowFocus:!1,enabled:s});return(null==d?void 0:null===(o=d.message)||void 0===o?void 0:o.rfqId)||!r||(r.current=!1),{rfqId:null!==(a=null==d?void 0:null===(i=d.message)||void 0===i?void 0:i.rfqId)&&void 0!==a?a:"",refreshRFQ:u,rfqUserInputCache:null==n?void 0:n.current,isLoading:s&&c}},useGetRFQTrade=(e,t,n,r,o,i,a)=>{let s=(0,b.useDeferredValue)(e),d=(0,K.Nr)(o,300),u=!!(d&&s),[{error:c,data:p,isLoading:m},x]=(0,b.useState)({error:null,data:null,isLoading:!1}),{error:h,data:f,isPending:g}=(0,ee.a)({queryKey:[`RFQ/${s}`],queryFn:()=>getRFQById(s),enabled:u,staleTime:1/0,retry:(e,t)=>t instanceof MMError?t.shouldRetry:e<4}),y=t===S.gN.INPUT;return(0,b.useEffect)(()=>{x(e=>{if(!u)return{error:null,data:null,isLoading:!1};let{data:t}=e;return{error:h,data:e&&g?t:f,isLoading:g}})},[h,f,g,u]),(0,b.useMemo)(()=>{if(c&&c instanceof Error&&(null==c?void 0:c.message))return a&&(a.current=!1),{rfq:null,trade:null,quoteExpiry:null,refreshRFQ:null,error:c,rfqId:e,isLoading:u&&m};if((null==p?void 0:p.messageType)===l.RFQ_RESPONSE){var t,o,s,d;return a&&(a.current=!0),{rfq:null==p?void 0:p.message,rfqId:e,trade:parseMMTrade(y,n,r,null==p?void 0:null===(t=p.message)||void 0===t?void 0:t.takerSideTokenAmount,null==p?void 0:null===(o=p.message)||void 0===o?void 0:o.makerSideTokenAmount),quoteExpiry:null!==(d=null==p?void 0:null===(s=p.message)||void 0===s?void 0:s.quoteExpiry)&&void 0!==d?d:null,refreshRFQ:i,isLoading:u&&m}}return a&&(a.current=!1),{rfq:null,trade:null,quoteExpiry:null,isLoading:u&&m,refreshRFQ:null}},[null==p?void 0:p.message,null==p?void 0:p.messageType,u,c,n,y,m,a,r,i,e])},useIsTradeWithMMBetter=e=>{let{independentField:t,trade:n,v2Trade:r,tradeWithMM:o,isExpertMode:i=!1}=e;return(0,b.useMemo)(()=>{var e,a,l,s,d,u,c,p;let m=t===S.gN.INPUT;return!(i||!o||o.inputAmount.equalTo(U.xE)||o.outputAmount.equalTo(U.xE))&&(!r&&!n&&!!o||(r&&!n?(null==r||!r.outputAmount||null==r||!r.inputAmount)&&!!o||m&&o.outputAmount.greaterThan(null!==(e=null==r?void 0:r.outputAmount)&&void 0!==e?e:U.xE)||!m&&o.inputAmount.lessThan(null!==(a=null==r?void 0:r.inputAmount)&&void 0!==a?a:U.xE):!r&&n?(null==n||!n.outputAmount||null==n||!n.inputAmount)&&!!o||m&&o.outputAmount.greaterThan(null!==(l=null==n?void 0:n.outputAmount)&&void 0!==l?l:U.xE)||!m&&o.inputAmount.lessThan(null!==(s=null==n?void 0:n.inputAmount)&&void 0!==s?s:U.xE):m&&o.outputAmount.greaterThan(null!==(d=null==n?void 0:n.outputAmount)&&void 0!==d?d:U.xE)&&o.outputAmount.greaterThan(null!==(u=null==r?void 0:r.outputAmount)&&void 0!==u?u:U.xE)||!m&&o.inputAmount.lessThan(null!==(c=null==n?void 0:n.inputAmount)&&void 0!==c?c:U.xE)&&o.inputAmount.lessThan(null!==(p=null==r?void 0:r.inputAmount)&&void 0!==p?p:U.xE)))},[n,r,o,i,t])};var ei=n(99247),ea=n(52155),el=n(26440),es=n(37528),ed=n(78977),eu=n(18370),ec=n(13030),ep=n(18640);let useIsMMSupportChain=()=>{let{chainId:e}=(0,O.g)();return(0,b.useMemo)(()=>!!W[e],[e])},em={1:ed.GX,56:ed.JA},useTokenList=e=>{let t=(0,ec.Dv)(ep.Ti),n=t[null!=e?e:""],r=(0,b.useMemo)(()=>{let e={};return(null==n?void 0:n.current)&&(null==n||n.current.tokens.forEach(t=>{e[t.address.toLowerCase()]=t.address.toLowerCase()})),e},[n]);return r},useIsMMQuotingPair=(e,t)=>{let{chainId:n}=(0,O.g)(),r=useTokenList(em[n]),o=useIsMMSupportChain(),{connector:i,isConnected:a}=(0,et.mA)();return(0,b.useMemo)(()=>{var l;return!!o&&!!n&&!!r&&!!e&&!!t&&(!a||(null==i?void 0:i.id)!==eu.Mt.Blocto&&(null==i?void 0:i.id)!=="safe"&&(null===(l=window.ethereum)||void 0===l||!l.isBlocto))&&(n!==$.a_.BSC||!e.isToken||!t.isToken||!Q[n][e.address]||!Q[n][t.address])&&!!r[(e.isToken?e.address:(0,e.wrapped.address)).toLowerCase()]&&!!r[(t.isToken?t.address:(0,e.wrapped.address)).toLowerCase()]},[o,n,r,e,t,a,null==i?void 0:i.id])},useMMParam=(e,t,n,r,o,i)=>{let{account:a,chainId:l}=(0,J.Z)();return(0,b.useMemo)(()=>e?parseMMParameter(l,r,o,t,n,a,i):null,[l,r,o,t,n,a,e,i])},ex=["0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","0xf164fC0Ec4E93095b804a4795bBe1e041497b92a","0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D"],checkOrderBookShouldRefetch=(e,t,n)=>{let r=!((null==n?void 0:n.current)&&e===(null==t?void 0:t.current)&&(null==t?void 0:t.current)!==void 0);return r},useOrderBookQuote=(e,t,n,r)=>{let[o]=(0,ea.k)(),i=`${null==e?void 0:e.networkId}/${null==e?void 0:e.makerSideToken}/${null==e?void 0:e.takerSideToken}/${null==e?void 0:e.makerSideTokenAmount}/${null==e?void 0:e.takerSideTokenAmount}`,a=`${null==t?void 0:t.networkId}/${null==t?void 0:t.makerSideToken}/${null==t?void 0:t.takerSideToken}/${null==t?void 0:t.makerSideTokenAmount}/${null==t?void 0:t.takerSideTokenAmount}`,l=!!(o&&e&&e.trader&&(e.makerSideTokenAmount||e.takerSideTokenAmount)&&"0"!==e.makerSideTokenAmount&&"0"!==e.takerSideTokenAmount&&checkOrderBookShouldRefetch(a,n,r)),{data:s,isPending:d}=(0,ee.a)({queryKey:[`orderBook/${i}`],queryFn:()=>getMMOrderBook(e),refetchInterval:5e3,enabled:l});return{data:o?s:void 0,isLoading:l&&d}},useMMTrade=(e,t,n,r)=>{var o;let{t:i}=(0,p.Z)(),{address:a}=(0,et.mA)(),l=(0,b.useRef)(""),s=(0,b.useRef)(!1),d=useIsMMQuotingPair(n,r),u=useMMParam(d,e,t,n,r),c=useMMParam(d,e,t,n,r,!0),{data:m,isLoading:x}=useOrderBookQuote(u,c,l,s),h=null!=a?a:null,f=(0,el.K5)(null!=a?a:void 0,(0,b.useMemo)(()=>[null!=n?n:void 0,null!=r?r:void 0],[n,r])),g=e===S.gN.INPUT,y=g?n:r,v=(0,b.useMemo)(()=>(0,ei.Z)(t,null!=y?y:void 0),[t,y]),T=(0,b.useMemo)(()=>{var e;if(!n||!r||!m||!(null==m?void 0:null===(e=m.message)||void 0===e?void 0:e.takerSideTokenAmount))return null;let{takerSideTokenAmount:t,makerSideTokenAmount:o}=(null==m?void 0:m.message)||{};return parseMMTrade(g,n,r,t,o)},[n,g,m,r]),j=(0,b.useMemo)(()=>({[S.gN.INPUT]:f[0],[S.gN.OUTPUT]:f[1]}),[f]),w=(0,b.useMemo)(()=>({[S.gN.INPUT]:null!=n?n:void 0,[S.gN.OUTPUT]:null!=r?r:void 0}),[n,r]),A=(0,b.useMemo)(()=>T&&{[S.gN.INPUT]:T.inputAmount,[S.gN.OUTPUT]:T.outputAmount},[T]),[k,C]=(0,b.useMemo)(()=>[j[S.gN.INPUT],A?A[S.gN.INPUT]:null],[j,A]),E=(0,b.useMemo)(()=>{var e,t;let n;a||(n=i("Connect Wallet")),v||(n=null!=n?n:i("Enter an amount")),w[S.gN.INPUT]&&w[S.gN.OUTPUT]||(n=null!=n?n:i("Select a token"));let r=(0,es.xP)(h);return h&&r?(-1!==ex.indexOf(r)||T&&T.routes[0].path.some(e=>e.isToken&&e.address===r))&&(n=null!=n?n:i("Invalid recipient")):n=null!=n?n:i("Enter a recipient"),k&&C&&k.lessThan(C)&&(n=i("Insufficient %symbol% balance",{symbol:C.currency.symbol})),(null==m?void 0:null===(e=m.message)||void 0===e?void 0:e.error)&&(n=null==m?void 0:null===(t=m.message)||void 0===t?void 0:t.error),n},[a,C,k,T,w,null==m?void 0:null===(o=m.message)||void 0===o?void 0:o.error,v,i,h]);return(0,b.useMemo)(()=>({trade:T,parsedAmount:v,currencyBalances:j,currencies:w,inputError:E,mmParam:c,rfqUserInputPath:l,isRFQLive:s,isLoading:x}),[T,w,j,E,x,c,v])},useMMQuoteCountDown=(e,t)=>{let n=(0,b.useRef)(!1),[r,o]=(0,b.useState)(null);return(0,b.useEffect)(()=>{let r;return n.current=!1,e&&(r=setInterval(()=>{let r=Math.floor((1e3*e-Date.now())/1e3%60);o(r>0?r:null),!n.current&&r&&r>0&&24===r&&t&&(null==t||t(),n.current=!0)},1e3)),()=>{r&&(clearInterval(r),o(null))}},[e,t]),r};var eh=n(98936),ef=n.n(eh),eg=n(60137);function useSlippageAdjustedAmounts(e){let[t]=(0,Y.eq)();return(0,b.useMemo)(()=>(0,eg.b5)(e,t),[t,e])}var ey=n(51296),ev=n(51627),eT=n(24216),eb=n(23902),ej=n(20174),ew=n(2501),eA=n(20751),ek=n(48066),eS=n(75647),eC=n(42199),eE=n(13780),eP=n(62656),eZ=n(33941),eI=n(96986);(0,eP.zo)(ey.Z)`
  color: ${e=>{let{theme:t}=e;return t.colors.textSubtle}};
  overflow: hidden;
`;let eN=(0,eZ.Z)("pcs::mobileShowOnceTokenHighlightV2",!0),eM=(0,b.memo)(e=>{let{subtitle:t,title:n,hasAmount:r,onRefreshPrice:o}=e,{t:i}=(0,p.Z)(),{chainId:a}=(0,O.g)(),[l,s]=(0,ec.KO)(eN),[d,u]=(0,b.useState)(!1),{tooltip:m,tooltipVisible:h,targetRef:f}=(0,ev.Z)((0,c.jsx)(eT.Z,{children:i("Check out the top traded tokens")}),{placement:eC.tq?"top":"bottom",trigger:eC.tq?"focus":"hover",...eC.tq&&{manualVisible:d}}),{tooltip:g,tooltipVisible:y,targetRef:v}=(0,ev.Z)((0,c.jsx)(eT.Z,{children:i("Buy crypto with fiat.")}),{placement:eC.tq?"top":"bottom",trigger:eC.tq?"focus":"hover",...eC.tq&&{manualVisible:d}}),{isChartSupported:T,isChartDisplayed:j,setIsChartDisplayed:w,isHotTokenSupported:A}=(0,b.useContext)(P.a),[S]=(0,Y.zu)(),[C]=(0,eE.pW)(),[E]=(0,eb.Z)((0,c.jsx)(ek.Z,{})),[Z,I]=(0,k.H)(),N=(0,b.useCallback)(()=>{u(!1)},[]);(0,b.useEffect)(()=>{eC.tq&&!l&&(u(!0),s(!0))},[l,s]),(0,b.useEffect)(()=>(document.body.addEventListener("click",N),()=>{document.body.removeEventListener("click",N)}),[N]);let M=(0,c.jsx)(x.Z,{width:"100%",alignItems:"center",justifyContent:"justify-between",flexDirection:"column",children:(0,c.jsxs)(x.Z,{width:"100%",justifyContent:"end",children:[(0,c.jsx)(ej.Z,{show:S||C,children:(0,c.jsx)(eS.Z,{color:"textSubtle",mr:"0",mode:eI.a.SWAP_LIQUIDITY,"data-dd-action-name":"Swap settings button"})}),(0,c.jsx)(x.Z,{width:"100%",justifyContent:"center",children:(0,c.jsxs)("div",{class:"text-center text-bigger",children:[(0,c.jsx)(eA.H.oz,{children:n}),(0,c.jsx)(eA.H.Cy,{children:t})]})}),(0,c.jsx)(ey.Z,{onClick:E,variant:"text",scale:"sm","data-dd-action-name":"Swap history button",children:(0,c.jsx)(ew.Z,{color:"textSubtle",width:"24px"})})]})});return(0,c.jsx)(eA.H.EJ,{title:M,subtitle:(0,c.jsx)(c.Fragment,{})})}),FormHeader=e=>{let{refreshDisabled:t,onRefresh:n}=e,{t:r}=(0,p.Z)(),o=(0,b.useCallback)(()=>{t||n()},[n,t]);return(0,c.jsx)(eM,{title:r("Swap"),subtitle:r("Trade tokens in an instant"),hasAmount:!t,onRefreshPrice:o})};var eU=n(55221),eD=n(12436),eR=n(51357),eO=n(41119),eF=n(22232),e_=n(15803);let eB=(0,b.memo)(function(e){let{children:t}=e;return(0,c.jsx)(e_.im,{id:"swap-page",style:{minHeight:"412px"},children:(0,c.jsx)(eF.sg,{gap:"sm",children:t})})});var eL=n(1802),e$=n(36197),ez=n(12455),eq=n(90663),eV=n(33865),eW=(0,b.memo)(function(e){let{path:t}=e;return(0,c.jsx)(x.Z,{flexWrap:"wrap",width:"100%",justifyContent:"flex-end",alignItems:"center",children:t.map((e,n)=>{let r=n===t.length-1,o=e.isToken?(0,eV.Bv)(e):e;return(0,c.jsxs)(b.Fragment,{children:[(0,c.jsx)(x.Z,{alignItems:"end",children:(0,c.jsx)(eT.Z,{fontSize:"14px",ml:"0.125rem",mr:"0.125rem",color:"textSubtle",children:o.symbol})}),!r&&(0,c.jsx)(eq.Z,{width:"12px"})]},`${o.symbol}_${n}`)})})}),eG=n(86588),eQ=n(31306),eH=n(47569),eX=n(69169),eK=n(41224);let{isStableSwapPair:eY}=eX.LegacyRouter,eJ=(0,eP.zo)(x.Z)`
  position: relative;
  flex-direction: row;

  &:before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    height: 3px;
    border-top: 3px dotted ${e=>{let{theme:t}=e;return t.colors.backgroundDisabled}};
    transform: translateY(-50%);
    z-index: 1;
  }

  ${e=>{let{theme:t}=e;return t.mediaQueries.md}} {
    min-width: 400px;
  }
`,e0=(0,eP.zo)(M.ZP)`
  position: relative;
  border-radius: 50px;
  display: flex;
  flex-direction: row;
  padding: 2px 4px;
  background-color: ${e=>{let{theme:t}=e;return t.colors.backgroundDisabled}};
  z-index: 2;
  svg,
  img {
    &:first-child {
      margin-bottom: 2px;
      ${e=>{let{theme:t}=e;return t.mediaQueries.md}} {
        margin-bottom: 0px;
        margin-right: 2px;
      }
    }
  }
  &.isStableSwap,
  &.highlight {
    background-color: ${e=>{let{theme:t}=e;return t.colors.secondary}};
  }
  ${e=>{let{theme:t}=e;return t.mediaQueries.md}} {
    padding: 4px 8px;
  }
`,e1=eP.zo.div`
  font-size: 14px;
  line-height: 16px;
  color: ${e=>{let{theme:t}=e;return t.colors.text}};
  position: absolute;
  transform: translateY(-50%);
  white-space: nowrap;
  left: 50%;
  transform: translateX(-50%);
  top: calc(100% + 3px);
  font-weight: ${e=>e.fontWeight||"normal"};

  ${e=>{let{theme:t}=e;return t.mediaQueries.md}} {
    font-size: 16px;
    line-height: 20px;
  }
`,e2=(0,eP.zo)(eG.p)`
  position: relative;
  padding: 2px;
  background: linear-gradient(180deg, #53dee9 0%, #7645d9 76.22%);
  border-radius: 50%;
  z-index: 2;
`,RouterViewer=e=>{let{pairs:t,path:n,inputCurrency:r,outputCurrency:o,isMM:i=!1}=e,{t:a}=(0,p.Z)(),{targetRef:l,tooltip:s,tooltipVisible:d}=(0,ev.Z)((0,c.jsx)(eT.Z,{children:r.symbol}),{placement:"right"}),{targetRef:u,tooltip:m,tooltipVisible:x}=(0,ev.Z)((0,c.jsx)(eT.Z,{children:o.symbol}),{placement:"right"});return(0,c.jsxs)(eJ,{justifyContent:"space-between",alignItems:"center",children:[(0,c.jsx)(e2,{ref:l,children:(0,c.jsx)(eK.X,{size:"44px",currency:r})}),d&&s,t&&n&&!i&&t.map((e,i)=>{let l=eY(e);return(0,c.jsxs)(e0,{className:l&&"isStableSwap",children:[(0,c.jsx)(eK.X,{size:"32px",currency:0===i?r:n[i]}),(0,c.jsx)(eK.X,{size:"32px",currency:i===t.length-1?o:n[i+1]}),(0,c.jsx)(e1,{children:l?a("StableSwap"):"V2"})]},`tradingPairIds${l?e.stableSwapAddress:e.liquidityToken.address}`)}),i&&n&&(0,c.jsxs)(e0,{children:[(0,c.jsx)(eK.X,{size:"32px",currency:r}),(0,c.jsx)(eK.X,{size:"32px",currency:o}),(0,c.jsx)(e1,{children:a("Market Maker")})]}),(0,c.jsx)(e2,{ref:u,children:(0,c.jsx)(eK.X,{size:"44px",currency:o})}),x&&m]})},e4=(0,b.memo)(function(e){let{isOpen:t,onDismiss:n,routes:r}=e,{t:o}=(0,p.Z)();return(0,c.jsx)(f.kw,{closeOnOverlayClick:!0,isOpen:t,onDismiss:n,minHeight:"0",children:(0,c.jsx)(g.ZP,{title:(0,c.jsxs)(x.Z,{justifyContent:"center",children:[o("Route")," ",(0,c.jsx)(eL.s,{text:o("Routing through these tokens resulted in the best price for your trade."),ml:"4px",placement:"top-start"})]}),style:{minHeight:"0"},bodyPadding:"24px",children:(0,c.jsxs)(eF.Tz,{gap:"48px",children:[r.map((e,t)=>(0,c.jsx)(e5,{route:e},t)),(0,c.jsx)(eH.D,{})]})})})}),e5=(0,b.memo)(function(e){let{route:t}=e,{t:n}=(0,p.Z)(),{path:r,pools:o,inputAmount:i,outputAmount:a}=t,{currency:l}=i,{currency:s}=a,{targetRef:d,tooltip:u,tooltipVisible:m}=(0,ev.Z)((0,c.jsx)(eT.Z,{children:l.symbol}),{placement:"right"}),{targetRef:x,tooltip:h,tooltipVisible:f}=(0,ev.Z)((0,c.jsx)(eT.Z,{children:s.symbol}),{placement:"right"}),g=(0,b.useMemo)(()=>{if(r.length<=1)return[];let e=[];for(let t=0;t<r.length-1;t+=1)e.push([r[t],r[t+1]]);return e},[r]),y=g.length>0?g.map((e,t)=>{let[r,i]=e,a=o[t],l=Z.SmartRouter.isV3Pool(a),s=Z.SmartRouter.isV2Pool(a),d=s?`v2_${a.reserve0.currency.symbol}_${a.reserve1.currency.symbol}`:a.address,u=s?"V2":l?`V3 (${(0,eg.rc)(a.fee).toSignificant(6)}%)`:n("StableSwap"),p=`${r.symbol}/${i.symbol}${l?` (${(0,eg.rc)(a.fee).toSignificant(6)}%)`:""}`;return(0,c.jsx)(PairNode,{pair:e,text:u,className:l&&"highlight",tooltipText:p},d)}):null;return(0,c.jsx)(eF.Tz,{gap:"24px",children:(0,c.jsxs)(eJ,{justifyContent:"space-between",alignItems:"center",children:[(0,c.jsxs)(e2,{size:{xs:"32px",md:"48px"},ref:d,children:[(0,c.jsx)(eQ.X,{size:"100%",currency:l}),(0,c.jsxs)(e1,{fontWeight:"bold",children:[t.percent,"%"]})]}),m&&u,y,(0,c.jsx)(e2,{size:{xs:"32px",md:"48px"},ref:x,children:(0,c.jsx)(eQ.X,{size:"100%",currency:s})}),f&&h]})})});function PairNode(e){let{pair:t,text:n,className:r,tooltipText:o}=e,[i,a]=t,l=(0,ev.Z)(o);return(0,c.jsxs)(e0,{className:r,ref:l.targetRef,children:[l.tooltipVisible&&l.tooltip,(0,c.jsx)(eG.p,{size:{xs:"24px",md:"32px"},children:(0,c.jsx)(eQ.X,{size:"100%",currency:i})}),(0,c.jsx)(eG.p,{size:{xs:"24px",md:"32px"},children:(0,c.jsx)(eQ.X,{size:"100%",currency:a})}),(0,c.jsx)(e1,{children:n})]})}var e6=n(99149),e3=n(3432),e9=n(40427),e8=n(33293),e7=n(43960),te=n.n(e7),tt=n(73643),tn=n(73656);let tr={bsc:tn.env.NEXT_PUBLIC_WALLCHAIN_BSC_KEY},to=[new U.Z$($.a_.BSC,"0xC9882dEF23bc42D53895b8361D0b1EDC7570Bc6A",18,"FIST"),tt.bscTokens.raca,tt.bscTokens.rdnt,tt.bscTokens.mbox,tt.bscTokens.link,tt.bscTokens.xrp];var ti=n(51438),ta=n(28202),tl=n(81824);function useSwapCallArguments(e,t,n,r,o){let{account:i,chainId:a}=(0,J.Z)(),l=(0,ta.G)(n),s=null==n?i:(0,tl.U)(n)?n:(0,tl.U)(l)?l:null;return(0,b.useMemo)(()=>{if(!e||!s||!i||!a)return[];let n=a?ti.cN[a]:void 0;if(!n)return[];let{value:l,calldata:d}=Z.cH.swapCallParameters(e,{fee:o,recipient:s,slippageTolerance:t,deadlineOrPreviousBlockhash:null==r?void 0:r.toString()});return[{address:n,calldata:d,value:l}]},[i,t,a,r,o,s,e])}let ts=new(te())({maxConcurrent:1,minTime:250,highWater:1}),td={56:"0xC0ffeE00c3F5A11369EeB57693C56Fd939dc6DBb"},tu={56:"0x31c2F6fcFf4F8759b3Bd5Bf0e1084A055615c768"},tc={56:["0xaAB27a41646A4b7e660f2BFc6e22a41550665fef"]},loadData=async(e,t,n)=>{if(await t.supportsChain()){let r=await t.getSpenderForAllowance();try{let o=await t.checkForMEV({from:e,to:n[0].address,value:n[0].value,data:n[0].calldata});if(o.MEVFound)return["found",r,o.searcherRequest,o.searcherSignature,o.suggestedGas]}catch(e){}}return["not-found",void 0,void 0,void 0,void 0]},tp=ts.wrap(loadData),extractAddressFromCurrency=e=>e.isNative?"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE":e.address,extractTokensFromTrade=e=>{var t,n;let r=null==e?void 0:null===(t=e.inputAmount)||void 0===t?void 0:t.currency,o=null==e?void 0:null===(n=e.outputAmount)||void 0===n?void 0:n.currency,i=!!r&&extractAddressFromCurrency(r),a=!!o&&extractAddressFromCurrency(o);return[i,a]};function useWallchainSDK(){let{data:e}=(0,et.py)(),{chainId:t}=(0,O.g)(),{data:r}=(0,ee.a)({queryKey:["wallchainSDK",null==e?void 0:e.account,null==e?void 0:e.chain],queryFn:async()=>{let t=(await Promise.all([n.e(6723),n.e(1746),n.e(8048)]).then(n.bind(n,71746))).default;return new t({keys:tr,provider:null==e?void 0:e.transport,addresses:td,permitAddresses:tu,originators:tc})},enabled:!!(t===$.a_.BSC&&e),refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1});return r}let tm=(0,e9.cn)("pending");function useWallchainStatus(){return(0,ec.KO)(tm)}let tx=(0,eP.zo)(ez.m0)`
  padding: 4px 24px 0;
`,th=(0,b.memo)(function(e){let{routes:t=[],isMM:n}=e,[r]=useWallchainStatus(),{t:o}=(0,p.Z)(),i=(0,f.R0)(),a=(0,K.Nr)(r,500);if(!t.length)return null;let l=t.length;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(tx,{children:[(0,c.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,c.jsx)(eT.Z,{fontSize:"14px",color:"textSubtle",children:o(n?"MM Route":"found"===a?"Bonus Route":"Route")}),(0,c.jsx)(eL.s,{text:o("found"===a?"A Bonus route provided by API is automatically selected for your trade to achieve the best price for your trade.":"Route is automatically calculated based on your routing preference to achieve the best price for your trade."),ml:"4px",placement:"top-start"})]}),(0,c.jsx)(M.ZP,{onClick:i.onOpen,role:"button",children:(0,c.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[l>1?(0,c.jsx)(eT.Z,{fontSize:"14px",children:o("%count% Separate Routes",{count:l})}):(0,c.jsx)(RouteComp,{route:t[0]}),(0,c.jsx)(ey.Z,{ml:"8px",variant:"text",color:"textSubtle",scale:"xs",children:(0,c.jsx)(e$.Z,{width:"16px",height:"16px",color:"textSubtle"})})]})}),(0,c.jsx)(e4,{...i,routes:t})]})})});function RouteComp(e){let{route:t}=e,{path:n}=t;return(0,c.jsx)(ez.m0,{children:(0,c.jsx)(eW,{path:n})})}var tf=n(79722),tg=n(59742);let ty=(0,b.memo)(()=>{let{t:e}=(0,p.Z)(),{tooltip:t,tooltipVisible:n,targetRef:r}=(0,ev.Z)((0,c.jsx)(eT.Z,{width:"266px",fontSize:"16px",children:e("The Market Maker (MM) is currently executing for your trade, there is no slippage against the quote from MM.")}),{placement:"top-end",trigger:"hover",tooltipOffset:[-3,0]});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(eT.Z,{ref:r,color:"textSubtle",display:"flex",fontSize:"14px",style:{gap:5},children:["-- ",(0,c.jsx)(tg.Z,{width:"13px"})]}),n&&t]})});var tv=n(16622),tT=n(54562),tb=n(57562),tj=n(82138),tw=n(73070);function FormattedPriceImpact(e){let{priceImpact:t}=e;return(0,c.jsx)(e_.y,{fontSize:"14px",severity:(0,e8.oX)(t),children:t?t.lessThan(R.IS)?"<0.01%":`${t.toFixed(2)}%`:"-"})}let tA=(0,eP.zo)(eF.Tz)`
  margin-top: 24px;
  padding: 16px;
  border-radius: ${e=>{let{theme:t}=e;return t.radii.default}};
  border: 1px solid ${e=>{let{theme:t}=e;return t.colors.cardBorder}};
  background-color: ${e=>{let{theme:t}=e;return t.colors.background}};
`,tk=(0,b.memo)(function(e){var t,n,r,o;let{priceImpact:i,lpFee:a,inputAmount:l,outputAmount:s,trade:d,tradeType:u,slippageAdjustedAmounts:m,isEnoughInputBalance:h,onConfirm:f,swapErrorMessage:g,disabledConfirm:y,isMM:v,isRFQReady:T,currencyBalances:j}=e,{t:w}=(0,p.Z)(),[A,k]=(0,b.useState)(!1),C=(0,e8.oX)(i),E=`${(100*tw.om).toFixed(2)}%`,P=`${(100*tw.BY).toFixed(2)}%`,I=`${(100*tw.hT).toFixed(4)}%`,N=`${(100*tw.xy).toFixed(4)}%`,M=(0,b.useMemo)(()=>{var e;if(v)return d?A?`${executionPrice(d).invert().toSignificant(6)} ${d.inputAmount.currency.symbol} / ${d.outputAmount.currency.symbol}`:`${executionPrice(d).toSignificant(6)} ${d.outputAmount.currency.symbol} / ${d.inputAmount.currency.symbol}`:"";let t=null!==(e=Z.SmartRouter.getExecutionPrice(d))&&void 0!==e?e:void 0;return(0,eg.Kh)(t,l,s,A)},[l,v,s,d,A]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(tA,{children:[(0,c.jsxs)(ez.m0,{align:"center",mb:"8px",children:[(0,c.jsx)(eT.Z,{fontSize:"14px",children:w("Price")}),(0,c.jsxs)(eT.Z,{fontSize:"14px",style:{justifyContent:"center",alignItems:"center",display:"flex",textAlign:"right",paddingLeft:"10px"},children:[M,(0,c.jsx)(e_.k0,{onClick:()=>k(!A),children:(0,c.jsx)(tv.Z,{color:"primary",width:"14px"})})]})]}),(0,c.jsxs)(ez.m0,{mb:"8px",children:[(0,c.jsxs)(ez.DA,{children:[(0,c.jsx)(eT.Z,{fontSize:"14px",children:w(u===U.YL.EXACT_INPUT?"Minimum received":"Maximum sold")}),(0,c.jsx)(eL.s,{text:w("Your transaction will revert if there is a large, unfavorable price movement before it is confirmed."),ml:"4px",placement:"top"})]}),(0,c.jsxs)(ez.DA,{children:[(0,c.jsx)(eT.Z,{fontSize:"14px",children:u===U.YL.EXACT_INPUT?null!==(n=(0,eU.dN)(m[S.gN.OUTPUT],4))&&void 0!==n?n:"-":null!==(r=(0,eU.dN)(m[S.gN.INPUT],4))&&void 0!==r?r:"-"}),(0,c.jsx)(eT.Z,{fontSize:"14px",marginLeft:"4px",children:u===U.YL.EXACT_INPUT?s.currency.symbol:l.currency.symbol})]})]}),(0,c.jsxs)(ez.m0,{mb:"8px",children:[(0,c.jsxs)(ez.DA,{children:[(0,c.jsx)(eT.Z,{fontSize:"14px",children:w("Price Impact")}),(0,c.jsx)(eL.s,{ml:"4px",placement:"top",text:v?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(eT.Z,{children:[(0,c.jsx)(eT.Z,{bold:!0,display:"inline-block",children:w("AMM")}),`: ${w("The difference between the market price and estimated price due to trade size.")}`]}),(0,c.jsxs)(eT.Z,{mt:"10px",children:[(0,c.jsx)(eT.Z,{bold:!0,display:"inline-block",children:w("MM")}),`: ${w("No slippage against quote from market maker")}`]})]}):(0,c.jsx)(c.Fragment,{children:w("The difference between the market price and your price due to trade size.")})})]}),v?(0,c.jsx)(eT.Z,{color:"textSubtle",children:"--"}):(0,c.jsx)(FormattedPriceImpact,{priceImpact:i})]}),(0,c.jsxs)(ez.m0,{children:[(0,c.jsxs)(ez.DA,{children:[(0,c.jsx)(eT.Z,{fontSize:"14px",children:w("Trading Fee")}),(0,c.jsx)(eL.s,{ml:"4px",placement:"top",text:v?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(eT.Z,{mb:"12px",children:[(0,c.jsx)(eT.Z,{bold:!0,display:"inline-block",children:w("AMM")}),": ",w("For each non-stableswap trade, a %amount% fee is paid",{amount:E})]}),(0,c.jsxs)(eT.Z,{children:["- ",w("%amount% to LP token holders",{amount:P})]}),(0,c.jsxs)(eT.Z,{children:["- ",w("%amount% to the Treasury",{amount:I})]}),(0,c.jsxs)(eT.Z,{children:["- ",w("%amount% towards CAKE buyback and burn",{amount:N})]}),(0,c.jsxs)(eT.Z,{mt:"12px",children:[w("For each stableswap trade, refer to the fee table"),(0,c.jsx)(tT.Z,{style:{display:"inline"},ml:"4px",external:!0,href:"https://docs.pancakeswap.finance/products/stableswap#stableswap-fees",children:w("here.")})]}),(0,c.jsxs)(eT.Z,{mt:"10px",children:[(0,c.jsx)(eT.Z,{bold:!0,display:"inline-block",children:w("MM")}),":"," ",w("PancakeSwap does not charge any fees for trades. However, the market makers charge an implied fee of 0.05% - 0.25% (non-stablecoin) / 0.01% (stablecoin) factored into the quotes provided by them.")]})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(eT.Z,{children:w("Fee ranging from 0.1% to 0.01% depending on the pool fee tier. You can check the fee tier by clicking the magnifier icon under the “Route” section.")}),(0,c.jsx)(eT.Z,{mt:"12px",children:(0,c.jsx)(tT.Z,{style:{display:"inline"},ml:"4px",external:!0,href:"https://docs.pancakeswap.finance/products/pancakeswap-exchange/faq#what-will-be-the-trading-fee-breakdown-for-v3-exchange",children:w("Fee Breakdown and Tokenomics")})})]})})]}),a?(0,c.jsxs)(x.Z,{children:[(0,c.jsx)(eT.Z,{fontSize:"14px",mr:"8px",children:`${(0,eU.dN)(a,6)} ${l.currency.symbol}`}),(0,c.jsx)(eK.X,{currency:null!==(o=null===(t=j.INPUT)||void 0===t?void 0:t.currency)&&void 0!==o?o:l.currency,size:"24px"})]}):(0,c.jsx)(eT.Z,{fontSize:"14px",textAlign:"right",children:"-"})]})]}),(0,c.jsxs)(ez.BA,{children:[(0,c.jsx)(tb.Z,{variant:C>2?"danger":"primary",onClick:f,disabled:v?y||!T:y,mt:"12px",id:"confirm-swap-or-send",width:"100%",children:v&&!T?(0,c.jsx)(tj.b,{children:w("Checking RFQ with MM")}):w(C>2||u===U.YL.EXACT_OUTPUT&&!h?"Swap Anyway":"Confirm Swap")}),g?(0,c.jsx)(e_.rn,{error:g}):null]})]})});var tS=n(41125),tC=n(32536),tE=n(75009);function SwapModalHeader(e){var t,n,r,o;let{inputAmount:i,outputAmount:a,tradeType:l,currencyBalances:s,priceImpactWithoutFee:d,slippageAdjustedAmounts:u,isEnoughInputBalance:m,recipient:x,showAcceptChanges:h,onAcceptChanges:f,allowedSlippage:g}=e,{t:y}=(0,p.Z)(),v=(0,e8.oX)(d),T=h&&l===U.YL.EXACT_OUTPUT&&m?"primary":l!==U.YL.EXACT_OUTPUT||m?"text":"failure",j=l===U.YL.EXACT_INPUT?(0,eU.dN)(u[S.gN.OUTPUT],6):(0,eU.dN)(u[S.gN.INPUT],6),w=l===U.YL.EXACT_INPUT?a.currency.symbol:i.currency.symbol,A=(0,b.useMemo)(()=>l===U.YL.EXACT_INPUT?y("Output is estimated. You will receive at least %amount% %symbol% or the transaction will revert.",{amount:`${j}`,symbol:w}):y("Input is estimated. You will sell at most %amount% %symbol% or the transaction will revert.",{amount:`${j}`,symbol:w}),[y,l,j,w]),k=x?(0,tE.Z)(x):"",C=y("Output will be sent to %recipient%",{recipient:k}),[E,P]=C.split(k);return(0,c.jsxs)(eF.Tz,{gap:"md",children:[(0,c.jsxs)(ez.m0,{align:"flex-end",children:[(0,c.jsx)(ez.DA,{gap:"4px",children:(0,c.jsx)(e_.Ld,{fontSize:"24px",bold:!0,color:T,children:(0,eU.dN)(i,6)})}),(0,c.jsxs)(ez.DA,{style:{alignSelf:"center"},children:[(0,c.jsx)(eT.Z,{fontSize:"14px",ml:"10px",mr:"8px",children:i.currency.symbol}),(0,c.jsx)(eK.X,{currency:null!==(r=null===(t=s.INPUT)||void 0===t?void 0:t.currency)&&void 0!==r?r:i.currency,size:"24px"})]})]}),(0,c.jsx)(ez.DA,{margin:"auto",children:(0,c.jsx)(tS.Z,{width:"24px",ml:"4px"})}),(0,c.jsxs)(ez.m0,{align:"flex-end",children:[(0,c.jsx)(ez.DA,{gap:"4px",children:(0,c.jsx)(e_.Ld,{bold:!0,fontSize:"24px",color:v>2?"failure":h&&l===U.YL.EXACT_INPUT?"primary":"text",children:(0,eU.dN)(a,6)})}),(0,c.jsxs)(ez.DA,{style:{alignSelf:"center"},children:[(0,c.jsx)(eT.Z,{fontSize:"14px",ml:"10px",mr:"8px",children:a.currency.symbol}),(0,c.jsx)(eK.X,{currency:null!==(o=null===(n=s.OUTPUT)||void 0===n?void 0:n.currency)&&void 0!==o?o:a.currency,size:"24px"})]})]}),h?(0,c.jsx)(e_.ly,{justify:"flex-start",gap:"0px",children:(0,c.jsxs)(ez.m0,{children:[(0,c.jsxs)(ez.DA,{children:[(0,c.jsx)(tC.Z,{mr:"8px"}),(0,c.jsxs)(eT.Z,{bold:!0,children:[" ",y("Price Updated")]})]}),(0,c.jsx)(tb.Z,{onClick:f,children:y("Accept")})]})}):null,(0,c.jsxs)(eF.Tz,{justify:"flex-start",gap:"sm",style:{padding:"24px 0 0 0px"},children:[(0,c.jsxs)(ez.DA,{style:{width:"100%"},children:[(0,c.jsx)(eT.Z,{fontSize:12,color:"secondary",bold:!0,textTransform:"uppercase",children:y("Slippage Slippage Tolerance")}),(0,c.jsx)(eT.Z,{fontSize:12,bold:!0,color:"primary",ml:"auto",textAlign:"end",children:"number"==typeof g?`${(0,e8.P4)(g).toFixed(2)}%`:g})]}),l===U.YL.EXACT_OUTPUT&&!m&&(0,c.jsx)(eT.Z,{fontSize:12,color:"failure",textAlign:"left",style:{width:"100%"},children:y("Insufficient input token balance. Your transaction may fail.")}),(0,c.jsx)(eT.Z,{fontSize:12,color:"textSubtle",textAlign:"left",style:{maxWidth:"320px"},children:A})]}),x?(0,c.jsx)(eF.Tz,{justify:"flex-start",gap:"sm",style:{padding:"12px 0 0 0px"},children:(0,c.jsxs)(eT.Z,{fontSize:12,color:"textSubtle",children:[E,(0,c.jsx)("b",{title:x,children:k}),P]})}):null]})}let tP=(0,b.memo)(function(e){let{isMM:t,trade:n,recipient:r,isRFQReady:o,originalTrade:i,allowedSlippage:a,currencyBalances:l,onConfirm:s,onAcceptChanges:d}=e,u=(0,b.useMemo)(()=>!!(n&&i&&(n.tradeType!==i.tradeType||!n.inputAmount.currency.equals(i.inputAmount.currency)||!n.inputAmount.equalTo(i.inputAmount)||!n.outputAmount.currency.equals(i.outputAmount.currency)||!n.outputAmount.equalTo(i.outputAmount))),[i,n]),p=(0,b.useMemo)(()=>t?{[S.gN.INPUT]:null==n?void 0:n.inputAmount,[S.gN.OUTPUT]:null==n?void 0:n.outputAmount}:(0,eg.b5)(n,a),[t,n,a]),{priceImpactWithoutFee:m,lpFeeAmount:x}=(0,b.useMemo)(()=>t?computeTradePriceBreakdown(n):(0,eg.U7)(n),[t,n]),h=(0,b.useMemo)(()=>{var e;if((null==n?void 0:n.tradeType)!==U.YL.EXACT_OUTPUT)return null;let t=!!(l&&l[S.gN.INPUT]),r=t&&(null===(e=l[S.gN.INPUT])||void 0===e?void 0:e.currency.isNative),o=t?r?(0,eO.i)(l[S.gN.INPUT]):l[S.gN.INPUT]:null;return!!o&&!!p&&!!p[S.gN.INPUT]&&(o.greaterThan(p[S.gN.INPUT])||o.equalTo(p[S.gN.INPUT]))},[l,n,p]),f=(0,b.useCallback)(()=>n?(0,c.jsx)(SwapModalHeader,{inputAmount:n.inputAmount,outputAmount:n.outputAmount,currencyBalances:l,tradeType:n.tradeType,priceImpactWithoutFee:null!=m?m:void 0,allowedSlippage:t?(0,c.jsx)(ty,{}):a,slippageAdjustedAmounts:p,isEnoughInputBalance:null!=h?h:void 0,recipient:null!=r?r:void 0,showAcceptChanges:u,onAcceptChanges:d}):null,[t,m,l,a,d,r,u,n,p,h]),g=(0,b.useCallback)(()=>n?(0,c.jsx)(tk,{trade:n,isMM:t,isRFQReady:o,tradeType:n.tradeType,inputAmount:n.inputAmount,outputAmount:n.outputAmount,currencyBalances:l,lpFee:null!=x?x:void 0,priceImpact:null!=m?m:void 0,disabledConfirm:u,slippageAdjustedAmounts:p,isEnoughInputBalance:null!=h?h:void 0,onConfirm:s}):null,[t,n,o,l,x,u,h,p,m,s]);return(0,c.jsx)(tf.p,{topContent:f,bottomContent:g})}),tZ={pokemoney:new U.Z$($.a_.BSC,"0x32ff5b4C3B1744F0344D96fA2f87799Ed2805749",18,"PMY","Pokemoney Coin",""),free:new U.Z$($.a_.BSC,"0x880BCe9321c79cAc1D290De6d31DDE722C606165",8,"FREE","Freedom Protocol Token",""),safemoon:new U.Z$($.a_.BSC,"0x8076C74C5e3F5852037F31Ff0093Eeb8c8ADd8D3",9,"SAFEMOON","Safemoon Token","https://safemoon.net/"),gala:new U.Z$($.a_.BSC,"0x7dDEE176F665cD201F93eEDE625770E2fD911990",18,"GALA","pTokens GALA","https://games.gala.com/"),xcad:new U.Z$($.a_.BSC,"0x431e0cD023a32532BF3969CddFc002c00E98429d",18,"XCAD","Chainport.io-Peg XCAD Token","https://xcadnetwork.com/"),lusd:new U.Z$($.a_.BSC,"0x23e8a70534308a4AAF76fb8C32ec13d17a3BD89e",18,"lUSD","lUSD","https://linear.finance/")},{alETH:tI}=tt.ethereumTokens,{bondly:tN,itam:tM,ccar:tU,bttold:tD,abnbc:tR,metis:tO}=tt.bscTokens,{pokemoney:tF,free:t_,safemoon:tB,gala:tL,xcad:t$,lusd:tz}=tZ,tq={[$.a_.ETHEREUM]:{alETH:tI},[$.a_.BSC]:{safemoon:tB,bondly:tN,itam:tM,ccar:tU,bttold:tD,pokemoney:tF,free:t_,gala:tL,abnbc:tR,xcad:t$,metis:tO,lusd:tz}};var utils_shouldShowSwapWarning=(e,t)=>{if(e&&tq[e]){let n=Object.values(tq[e]);return n.some(e=>e.equals(t))}return!1},tV=n(60504),tW=n(5271),tG=n(58356),tQ=n(72794),tH=n(83229),tX=n(25579);let{alETH:tK}=tq[$.a_.ETHEREUM],tY={[tK.address]:{symbol:tK.symbol,component:(0,c.jsx)(()=>{let{t:e}=(0,p.Z)();return(0,c.jsxs)(M.ZP,{maxWidth:"380px",children:[(0,c.jsx)(eT.Z,{as:"span",children:e("Please exercise due caution when trading / providing liquidity for the alETH token. The protocol was recently affected by the")}),(0,c.jsx)(tT.Z,{external:!0,m:"0 4px",style:{display:"inline"},href:"https://twitter.com/CurveFinance/status/1685925429041917952",children:e("Curve exploit.")}),(0,c.jsx)(eT.Z,{as:"span",children:e("For more information, please refer to Alchemix’s")}),(0,c.jsx)(tT.Z,{external:!0,m:"0 4px",style:{display:"inline"},href:"https://twitter.com/AlchemixFi/status/1685737632133971968",children:e("Twitter")}),(0,c.jsx)(eT.Z,{as:"span",children:e("and await further updates from the team")})]})},{})}};var tJ=n(40749);let{safemoon:t0,bondly:t1,itam:t2,ccar:t4,bttold:t5,pokemoney:t6,free:t3,gala:t9,abnbc:t8,xcad:t7,metis:ne,lusd:nt}=tq[$.a_.BSC],nn={[t0.address]:{symbol:t0.symbol,component:(0,c.jsx)(()=>{let{t:e}=(0,p.Z)();return(0,c.jsx)(M.ZP,{maxWidth:"380px",children:(0,c.jsxs)(eT.Z,{children:[e("SAFEMOON has been migrated to")," ",(0,c.jsx)(tT.Z,{style:{display:"inline"},external:!0,href:"https://bscscan.com/address/0x42981d0bfbAf196529376EE702F2a9Eb9092fcB5",children:e("a new contract address.")})," ",e("Trading on the old address may result in the complete loss of your assets. For more information please refer to")," ",(0,c.jsxs)(tT.Z,{style:{display:"inline"},external:!0,href:"https://twitter.com/safemoon/status/1477770592031887360",children:[e("Safemoon's announcement"),"."]})]})})},{})},[t1.address]:{symbol:t1.symbol,component:(0,c.jsx)(()=>{let{t:e}=(0,p.Z)();return(0,c.jsx)(eT.Z,{children:e("Warning: BONDLY has been compromised. Please remove liquidity until further notice.")})},{})},[t2.address]:{symbol:t2.symbol,component:(0,c.jsx)(()=>{let{t:e}=(0,p.Z)();return(0,c.jsx)(M.ZP,{maxWidth:"380px",children:(0,c.jsxs)(eT.Z,{children:[e("ITAM has been rebranded as ITAM CUBE.")," ",(0,c.jsx)(tT.Z,{style:{display:"inline"},external:!0,href:"https://itam.network/swap",children:e("Please proceed to ITAM bridge to conduct a one-way swap of your ITAM tokens.")})," ",e("All transfers of the old ITAM token will be disabled after the swap.")]})})},{})},[t4.address]:{symbol:t4.symbol,component:(0,c.jsx)(()=>{let{t:e}=(0,p.Z)();return(0,c.jsx)(M.ZP,{maxWidth:"380px",children:(0,c.jsxs)(eT.Z,{children:[e("Crypto Cars (CCAR) has been migrated to")," ",(0,c.jsx)(tT.Z,{style:{display:"inline"},external:!0,href:"https://bscscan.com/token/0x322e5015Cc464Ada7f99dE7131CE494dE1834396",children:e("a new contract address.")})," ",e("Trading on the old address may result in the complete loss of your assets. For more information please refer to")," ",(0,c.jsx)(tT.Z,{style:{display:"inline"},external:!0,href:"https://t.me/Crypto_Cars_Official/465037",children:e("the announcement.")})]})})},{})},[t5.address]:{symbol:t5.symbol,component:(0,c.jsx)(()=>{let{t:e}=(0,p.Z)();return(0,c.jsxs)(M.ZP,{maxWidth:"380px",children:[(0,c.jsx)(eT.Z,{children:e("Please note that this is the old BTT token, which has been swapped to the new BTT tokens in the following ratio:")}),(0,c.jsx)(eT.Z,{children:"1 BTT (OLD) = 1,000 BTT (NEW)"}),(0,c.jsxs)(eT.Z,{mb:"8px",children:[e("Trade the new BTT token")," ",(0,c.jsx)(tT.Z,{style:{display:"inline"},href:"https://pancakeswap.finance/swap?outputCurrency=0x352Cb5E19b12FC216548a2677bD0fce83BaE434B",children:e("here")})]}),(0,c.jsx)(tJ.Z,{href:"https://medium.com/@BitTorrent/tutorial-how-to-swap-bttold-to-btt-453264d7142",children:e("For more details on the swap, please refer here.")})]})},{})},[t6.address]:{symbol:t6.symbol,component:(0,c.jsx)(()=>{let{t:e}=(0,p.Z)();return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(eT.Z,{children:e("Suspicious rugpull token")})})},{})},[t3.address]:{symbol:t3.symbol,component:(0,c.jsx)(()=>{let{t:e}=(0,p.Z)();return(0,c.jsx)(M.ZP,{maxWidth:"380px",children:(0,c.jsx)(eT.Z,{children:e("Risk Warning: This token is subject to high price risk. Please do your own research before trading this token. Please also note that as of 24 June 2022 there is also a reflection fee for every transfer of FREE ranging from 2.5 to 5% per trade/transfer.")})})},{})},[t9.address]:{symbol:t9.symbol,component:(0,c.jsx)(()=>{let{t:e}=(0,p.Z)();return(0,c.jsxs)(M.ZP,{maxWidth:"380px",children:[(0,c.jsx)(eT.Z,{children:e("Warning: The pGALA token pool is not a valid token trading pair - please stop buying.")}),(0,c.jsx)(tJ.Z,{href:"https://twitter.com/pNetworkDeFi/status/1588266897061031936",children:e("For more info, please see pGALA’s twitter.")})]})},{})},[t8.address]:{symbol:t8.symbol,component:(0,c.jsx)(()=>{let{t:e}=(0,p.Z)();return(0,c.jsxs)(M.ZP,{maxWidth:"380px",children:[(0,c.jsx)(eT.Z,{children:e("Warning: aBNB token from Ankr has been exploited. Please proceed with caution. We do not recommend users to trade the token.")}),(0,c.jsx)(tJ.Z,{href:"https://twitter.com/ankr/status/1598503332477280256",children:e("Learn More")})]})},{})},[t7.address]:{symbol:t7.symbol,component:(0,c.jsx)(()=>{let{t:e}=(0,p.Z)();return(0,c.jsx)(M.ZP,{maxWidth:"380px",children:(0,c.jsxs)(eT.Z,{children:[e("XCAD is now using a new bridge provider and has migrated to a new XCAD token on BSC."),(0,c.jsx)("br",{}),e("You can obtain the new token either by swapping your old tokens on PancakeSwap or bridging them to ETH and back to BSC using the new bridge provider."),(0,c.jsx)("br",{}),e("For more info, click")," ",(0,c.jsx)(tT.Z,{style:{display:"inline"},external:!0,href:"https://blog.xcadnetwork.com/xcad-network-bsc-token-migration-wormhole-partnership-3c73aaabe4ba",children:e("here")}),(0,c.jsx)("br",{}),(0,c.jsxs)(tT.Z,{external:!0,href:"https://bscscan.com/token/0xa026ad2ceda16ca5fc28fd3c72f99e2c332c8a26",children:[e("New token contract address"),"."]})]})})},{})},[ne.address]:{symbol:ne.symbol,component:(0,c.jsx)(()=>{let{t:e}=(0,p.Z)();return(0,c.jsxs)(M.ZP,{maxWidth:"380px",children:[(0,c.jsx)(eT.Z,{children:e("Caution - METIS Token")}),(0,c.jsxs)(eT.Z,{children:[e("Please exercise due caution when trading / providing liquidity for the METIS token. The protocol was recently affected by the"),(0,c.jsx)(tT.Z,{m:"0 4px",style:{display:"inline"},href:"https://twitter.com/MetisDAO/status/1676431481621676032",children:e("PolyNetwork Exploit.")}),e("For more information, please refer to MetisDAO’s"),(0,c.jsx)(tT.Z,{ml:"4px",style:{display:"inline"},href:"https://twitter.com/MetisDAO",children:e("Twitter")})]})]})},{})},[nt.address]:{symbol:nt.symbol,component:(0,c.jsx)(()=>{let{t:e}=(0,p.Z)();return(0,c.jsxs)(M.ZP,{maxWidth:"380px",children:[(0,c.jsx)(eT.Z,{children:e("Caution - lUSD Token")}),(0,c.jsxs)(eT.Z,{children:[e("Please exercise due caution when trading or providing liquidity for the lUSD token. The protocol was recently affected by an "),(0,c.jsx)(tT.Z,{m:"0 4px",style:{display:"inline"},href:"https://twitter.com/LinearFinance/status/1704818417880936535",children:e("exploit.")}),e("For more information, please refer to Linear Finance’s"),(0,c.jsx)(tT.Z,{ml:"4px",style:{display:"inline"},href:"https://twitter.com/LinearFinance",children:e("Twitter")})]})]})},{})}};var nr=n(68490),SwapWarningModal_Acknowledgement=e=>{let{handleContinueClick:t}=e,{t:n}=(0,p.Z)(),[r,o]=(0,b.useState)(!1);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(x.Z,{justifyContent:"space-between",children:[(0,c.jsx)("label",{htmlFor:"acknowledgement",children:(0,c.jsxs)(x.Z,{alignItems:"center",children:[(0,c.jsx)(nr.Z,{id:"acknowledgement",name:"confirmed",type:"checkbox",checked:r,onChange:()=>o(!r),scale:"sm"}),(0,c.jsx)(eT.Z,{ml:"10px",style:{userSelect:"none"},children:n("I understand")})]})}),(0,c.jsx)(tb.Z,{disabled:!r,onClick:t,children:n("Continue")})]})})};let no=(0,eP.zo)(tG.F0)`
  max-width: 440px;
`,ni=(0,eP.zo)(tQ.Z)`
  align-items: flex-start;
  justify-content: flex-start;
`;var components_SwapWarningModal=e=>{var t;let{swapCurrency:n,onDismiss:r}=e,{t:o}=(0,p.Z)(),{theme:i}=(0,tX.ZP)(),{chainId:a}=(0,O.g)(),l={[$.a_.ETHEREUM]:tY,[$.a_.BSC]:nn},s=null==l?void 0:null===(t=l[a])||void 0===t?void 0:t[n.address];return(0,c.jsxs)(no,{minWidth:"280px",children:[(0,c.jsx)(tG.xB,{background:i.colors.gradientCardHeader,children:(0,c.jsx)(tH.Z,{p:"12px 24px",children:o("Notice for trading %symbol%",{symbol:null==s?void 0:s.symbol})})}),(0,c.jsxs)(tG.fe,{p:"24px",children:[(0,c.jsx)(ni,{variant:"warning",mb:"24px",children:(0,c.jsx)(M.ZP,{children:null==s?void 0:s.component})}),(0,c.jsx)(SwapWarningModal_Acknowledgement,{handleContinueClick:r})]})]})};function useWarningImport(){let e=(0,T.useRouter)(),{chainId:t,isWrongNetwork:n}=(0,tW.Z)(),{[S.gN.INPUT]:{currencyId:r},[S.gN.OUTPUT]:{currencyId:o}}=(0,C.dU)(),[i,a]=(0,b.useState)(null),[l,s]=[(0,A.U8)(r),(0,A.U8)(o)],d=(0,b.useMemo)(()=>{var e;return null!==(e=[l,s].filter(e=>!!(null==e?void 0:e.isToken)))&&void 0!==e?e:[]},[l,s]),u=(0,A.e_)(),{data:p}=(0,ee.a)({queryKey:["token-list"]}),m=(0,b.useMemo)(()=>!n&&d&&p?d.filter(e=>{let n=(0,es.xP)(e.address)||"";return!(n in u)&&e.chainId===t}):[],[t,u,n,p,d]),[x]=(0,eb.Z)((0,c.jsx)(components_SwapWarningModal,{swapCurrency:i}),!1),[h]=(0,eb.Z)((0,c.jsx)(tV.Z,{tokens:m,onCancel:()=>e.push("/swap")}));(0,b.useEffect)(()=>{i&&x()},[i]);let f=(0,b.useCallback)(e=>{let n=utils_shouldShowSwapWarning(t,e);n?a(e):a(null)},[t]);return(0,b.useEffect)(()=>{m.length>0&&h()},[m.length]),f}var na=n(31698);let nl=(0,b.memo)(function(e){let{currency:t}=e,{isAccessTokenSupported:n}=(0,b.useContext)(P.a);return n&&(null==t?void 0:t.isToken)?(0,c.jsx)(M.ZP,{children:(0,c.jsx)(na.ZP,{token:t})}):null});var ns=n(78519);function useIsWrapping(){let{[S.gN.INPUT]:{currencyId:e},[S.gN.OUTPUT]:{currencyId:t}}=(0,C.dU)(),{typedValue:n}=(0,C.dU)(),r=(0,A.U8)(e),o=(0,A.U8)(t);return(0,ns.hN)(r,o,n)}function useAllowRecipient(){let[e]=(0,Y.zu)(),t=useIsWrapping();return e&&!t}var nd=n(33954);let nu=["0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","0xf164fC0Ec4E93095b804a4795bBe1e041497b92a","0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D"];var nc=n(78471),np=n(79179),nm=n(79369),nx=n(46494),nh=n(85507),nf=n(60363),ng=n(96766),ny=n(52016);function isZero(e){return/^0x0*$/.test(e)}let TransactionRejectedError=class TransactionRejectedError extends Error{};(o=s||(s={}))[o.INVALID=0]="INVALID",o[o.LOADING=1]="LOADING",o[o.VALID=2]="VALID",o[o.REVERTED=3]="REVERTED";let nv=(0,b.memo)(function(){let{t:e}=(0,p.Z)(),[t]=(0,Y.zu)(),{onSwitchTokens:n,onChangeRecipient:r}=(0,j._)(),{recipient:o,[S.gN.INPUT]:{currencyId:i},[S.gN.OUTPUT]:{currencyId:a}}=(0,C.dU)(),l=useAllowRecipient(),s=(0,b.useCallback)(()=>{n(),(0,y.Z)("inputCurrency",a),(0,y.Z)("outputCurrency",i)},[n,i,a]);return(0,c.jsx)(eF.Tz,{justify:"space-between",children:(0,c.jsxs)(ez.BA,{justify:t?"space-between":"center",style:{padding:"0 1rem",marginTop:"1em"},children:[(0,c.jsx)(eA.H.U3,{onClick:s}),l&&null===o?(0,c.jsx)(tb.Z,{variant:"text",id:"add-recipient-button",onClick:()=>r(""),"data-dd-action-name":"Swap flip button",children:e("+ Add a send (optional)")}):null]})})});var nT=n(75078);let nb=eP.zo.div`
  display: flex;
  flex-flow: column nowrap;
  position: relative;
  border-radius: 1.25rem;
  background-color: ${e=>{let{theme:t}=e;return t.colors.backgroundAlt}};
  z-index: 1;
  width: 100%;
`,nj=eP.zo.div`
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 1.25rem;
  border: 1px solid ${e=>{let{error:t,theme:n}=e;return t?n.colors.failure:n.colors.background}};
  transition: border-color 300ms ${e=>{let{error:t}=e;return t?"step-end":"step-start"}},
    color 500ms ${e=>{let{error:t}=e;return t?"step-end":"step-start"}};
  background-color: ${e=>{let{theme:t}=e;return t.colors.backgroundAlt}};
`,nw=eP.zo.div`
  flex: 1;
  padding: 1rem;
`,nA=eP.zo.input`
  font-size: 1.25rem;
  outline: none;
  border: none;
  flex: 1 1 auto;
  background-color: ${e=>{let{theme:t}=e;return t.colors.backgroundAlt}};
  transition: color 300ms ${e=>{let{error:t}=e;return t?"step-end":"step-start"}};
  color: ${e=>{let{error:t,theme:n}=e;return t?n.colors.failure:n.colors.primary}};
  overflow: hidden;
  text-overflow: ellipsis;
  font-weight: 500;
  width: 100%;
  ::placeholder {
    color: ${e=>{let{theme:t}=e;return t.colors.textDisabled}};
  }
  padding: 0px;
  -webkit-appearance: textfield;

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-outer-spin-button,
  ::-webkit-inner-spin-button {
    -webkit-appearance: none;
  }

  ::placeholder {
    color: ${e=>{let{theme:t}=e;return t.colors.textDisabled}};
  }
`;function AddressInputPanel(e){let{id:t,value:n,onChange:r}=e,{chainId:o}=(0,O.g)(),{t:i}=(0,p.Z)(),a=(0,K.Nr)(n,500),l=(0,ta.G)(a),s=(0,es.xP)(n)?n:(0,es.xP)(l),d=(0,b.useCallback)(e=>{let t=e.target.value,n=t.replace(/\s+/g,"");r(n)},[r]),u=!!(n.length>0&&!s);return(0,c.jsx)(nb,{id:t,children:(0,c.jsx)(nj,{error:u,children:(0,c.jsx)(nw,{children:(0,c.jsxs)(eF.Tz,{gap:"md",children:[(0,c.jsxs)(ez.m0,{children:[(0,c.jsx)(eT.Z,{children:i("Recipient")}),s&&o&&(0,c.jsxs)(tT.Z,{external:!0,small:!0,href:(0,es.C)(s,"address",o),children:["(",i("View on %site%",{site:(0,es.X0)(o)}),o===$.a_.BSC&&(0,c.jsx)(nT.Z,{color:"primary",ml:"4px"}),")"]})]}),(0,c.jsx)(nA,{className:"recipient-address-input",type:"text",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",placeholder:i("Wallet Address"),error:u,pattern:"^(0x[a-fA-F0-9]{40})$",onChange:d,value:n})]})})})})}let nk=(0,b.memo)(function(){let{t:e}=(0,p.Z)(),{recipient:t}=(0,C.dU)(),{onChangeRecipient:n}=(0,j._)(),r=useAllowRecipient();return r&&null!==t?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(ez.BA,{justify:"space-between",style:{padding:"0 1rem"},children:[(0,c.jsx)(e_.nR,{clickable:!1,children:(0,c.jsx)(tS.Z,{width:"16px"})}),(0,c.jsx)(tb.Z,{variant:"text",id:"remove-recipient-button",onClick:()=>n(null),"data-dd-action-name":"Swap remove recipient button",children:e("- Remove send")})]}),(0,c.jsx)(AddressInputPanel,{id:"recipient",value:t,onChange:n})]}):null});function FormMain(e){let{pricingAndSlippage:t,inputAmount:n,outputAmount:r,tradeLoading:o,swapCommitButton:i}=e,{address:a}=(0,et.mA)(),{t:l}=(0,p.Z)(),s=useWarningImport(),{independentField:d,typedValue:u,[S.gN.INPUT]:{currencyId:m},[S.gN.OUTPUT]:{currencyId:x}}=(0,C.dU)(),h=useIsWrapping(),f=(0,A.U8)(m),g=(0,A.U8)(x),{onCurrencySelection:v,onUserInput:T}=(0,j._)(),[k]=(0,el.K5)(a,[f,g]),E=(0,b.useMemo)(()=>(0,eO.i)(k),[k]),P=(0,C.jj)(),Z=(0,b.useCallback)(e=>T(S.gN.INPUT,e),[T]),I=(0,b.useCallback)(e=>T(S.gN.OUTPUT,e),[T]),N=(0,b.useCallback)(e=>{E&&T(S.gN.INPUT,E.multiply(new U.gG(e,100)).toExact())},[E,T]),M=(0,b.useCallback)(()=>{E&&T(S.gN.INPUT,E.toExact())},[E,T]),D=(0,b.useCallback)((e,t,n,r)=>{v(t,e),s(e);let o=t===S.gN.INPUT,i=o?n:r,a=o?r:n,l=(0,w.H)(e);l===a&&(0,y.Z)(o?"outputCurrency":"inputCurrency",i),(0,y.Z)(o?"inputCurrency":"outputCurrency",l)},[v,s]),R=(0,b.useCallback)(e=>D(e,S.gN.INPUT,m,x),[D,m,x]),O=(0,b.useCallback)(e=>D(e,S.gN.OUTPUT,m,x),[D,m,x]),F=d===S.gN.INPUT,_=(0,b.useMemo)(()=>u&&(F?u:(0,eU.dN)(n)||""),[u,F,n]),B=(0,b.useMemo)(()=>u&&(F?(0,eU.dN)(r)||"":u),[u,F,r]),L=!!u&&!F&&o,$=!!u&&F&&o;return(0,c.jsxs)(eB,{children:[(0,c.jsx)(eD.Z,{id:"swap-currency-input",showUSDPrice:!0,showMaxButton:!0,showCommonBases:!0,inputLoading:!h&&L,currencyLoading:!P,label:l(F||h?"From":"From (estimated)"),value:h?u:_,maxAmount:E,showQuickInputButton:!0,currency:f,onUserInput:Z,onPercentInput:N,onMax:M,onCurrencySelect:R,otherCurrency:g,commonBasesType:eR.L0.SWAP_LIMITORDER}),(0,c.jsx)(nl,{currency:f}),(0,c.jsx)(nv,{}),(0,c.jsx)(eD.Z,{id:"swap-currency-output",showUSDPrice:!0,showCommonBases:!0,showMaxButton:!1,inputLoading:!h&&$,currencyLoading:!P,label:l(F&&!h?"To (estimated)":"To"),value:h?u:B,currency:g,onUserInput:I,onCurrencySelect:O,otherCurrency:g,commonBasesType:eR.L0.SWAP_LIMITORDER}),(0,c.jsx)(nl,{currency:g}),(0,c.jsx)(nk,{}),t,i]})}let nS=(0,b.memo)(function(e){let{priceLoading:t,price:n,showSlippage:r=!0}=e,{t:o}=(0,p.Z)(),[i]=(0,Y.eq)(),a=useIsWrapping(),[l]=(0,eb.Z)((0,c.jsx)(eH.ZP,{mode:eI.a.SWAP_LIQUIDITY}));if(a)return null;let s=n?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(eA.H.P1,{children:o("Price")}),(0,c.jsx)(eA.H.zB,{price:n,loading:t})]}):null;return(0,c.jsx)(eA.H.kI,{price:s,allowedSlippage:r?i:void 0,onSlippageClick:l})});function isDefined(e){return null!=e}let nC=(0,b.memo)(function(e){var t,n,r,o,i;let{inputAmount:a,outputAmount:l,tradeType:s,slippageAdjustedAmounts:d,priceImpactWithoutFee:u,realizedLPFee:m,isMM:x=!1}=e,{t:h}=(0,p.Z)(),f=s===U.YL.EXACT_INPUT;return(0,c.jsxs)(eF.Tz,{style:{padding:"0 24px"},children:[(0,c.jsxs)(ez.m0,{children:[(0,c.jsxs)(ez.DA,{children:[(0,c.jsx)(eT.Z,{fontSize:"14px",color:"textSubtle",children:h(f?"Minimum received":"Maximum sold")}),(0,c.jsx)(eL.s,{text:h("Your transaction will revert if there is a large, unfavorable price movement before it is confirmed."),ml:"4px",placement:"top"})]}),(0,c.jsx)(ez.DA,{children:(0,c.jsx)(eT.Z,{fontSize:"14px",children:f?`${(0,eU.dN)(d[S.gN.OUTPUT],4)} ${null==l?void 0:null===(t=l.currency)||void 0===t?void 0:t.symbol}`:`${(0,eU.dN)(d[S.gN.INPUT],4)} ${null==a?void 0:null===(n=a.currency)||void 0===n?void 0:n.symbol}`})})]}),u&&(0,c.jsxs)(ez.m0,{style:{padding:"4px 0 0 0"},children:[(0,c.jsxs)(ez.DA,{children:[(0,c.jsx)(eT.Z,{fontSize:"14px",color:"textSubtle",children:h("Price Impact")}),(0,c.jsx)(eL.s,{text:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(eT.Z,{children:[(0,c.jsx)(eT.Z,{bold:!0,display:"inline-block",children:h("AMM")}),`: ${h("The difference between the market price and estimated price due to trade size.")}`]}),(0,c.jsxs)(eT.Z,{mt:"10px",children:[(0,c.jsx)(eT.Z,{bold:!0,display:"inline-block",children:h("MM")}),`: ${h("No slippage against quote from market maker")}`]})]}),ml:"4px",placement:"top"})]}),x?(0,c.jsx)(eT.Z,{color:"textSubtle",children:"--"}):(0,c.jsx)(FormattedPriceImpact,{priceImpact:u})]}),m&&(0,c.jsxs)(ez.m0,{style:{padding:"4px 0 0 0"},children:[(0,c.jsxs)(ez.DA,{children:[(0,c.jsx)(eT.Z,{fontSize:"14px",color:"textSubtle",children:h("Trading Fee")}),(0,c.jsx)(eL.s,{text:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(eT.Z,{mb:"12px",children:[(0,c.jsx)(eT.Z,{bold:!0,display:"inline-block",children:h("AMM")}),":"," ",h("Fee ranging from 0.1% to 0.01% depending on the pool fee tier. You can check the fee tier by clicking the magnifier icon under the “Route” section.")]}),(0,c.jsx)(eT.Z,{mt:"12px",children:(0,c.jsx)(tT.Z,{style:{display:"inline"},ml:"4px",external:!0,href:x?"https://docs.pancakeswap.finance/products/pancakeswap-exchange/market-maker-integration#fees":"https://docs.pancakeswap.finance/products/pancakeswap-exchange/faq#what-will-be-the-trading-fee-breakdown-for-v3-exchange",children:h("Fee Breakdown and Tokenomics")})}),(0,c.jsxs)(eT.Z,{mt:"10px",children:[(0,c.jsx)(eT.Z,{bold:!0,display:"inline-block",children:h("MM")}),":"," ",h("PancakeSwap does not charge any fees for trades. However, the market makers charge an implied fee of 0.05% - 0.25% (non-stablecoin) / 0.01% (stablecoin) factored into the quotes provided by them.")]})]}),ml:"4px",placement:"top"})]}),(0,c.jsx)(eT.Z,{fontSize:"14px",children:`${(0,eU.dN)(m,4)} ${null==a?void 0:null===(r=a.currency)||void 0===r?void 0:r.symbol}`})]})]})}),nE=(0,b.memo)(function(e){let{pairs:t,path:n,priceImpactWithoutFee:r,realizedLPFee:o,slippageAdjustedAmounts:i,inputAmount:a,outputAmount:l,tradeType:s,hasStablePair:d,isMM:u=!1}=e,{t:m}=(0,p.Z)(),[h,y]=(0,b.useState)(!1),v=!!(n&&n.length>1);return(0,c.jsx)(eF.Tz,{gap:"0px",children:a&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(nC,{inputAmount:a,outputAmount:l,tradeType:s,slippageAdjustedAmounts:i,priceImpactWithoutFee:r,realizedLPFee:o,hasStablePair:d,isMM:u}),v&&(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(ez.m0,{style:{padding:"0 24px"},children:[(0,c.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,c.jsx)(eT.Z,{fontSize:"14px",color:"textSubtle",children:m("MM Route")}),(0,c.jsx)(eL.s,{text:m("The Market Maker (MM) route is automatically selected for your trade to achieve the best price for your trade."),ml:"4px",placement:"top"})]}),(0,c.jsx)(eW,{path:n}),(0,c.jsx)(e$.Z,{style:{cursor:"pointer"},onClick:()=>y(!0)}),(0,c.jsx)(f.kw,{closeOnOverlayClick:!0,isOpen:h,onDismiss:()=>y(!1),children:(0,c.jsxs)(g.ZP,{title:(0,c.jsxs)(x.Z,{justifyContent:"center",children:[m("Route")," ",(0,c.jsx)(eL.s,{text:m("Route is automatically calculated based on your routing preference to achieve the best price for your trade."),ml:"4px",placement:"top"})]}),onDismiss:()=>y(!1),children:[(0,c.jsx)(RouterViewer,{isMM:u,inputCurrency:null==a?void 0:a.currency,pairs:t,path:n,outputCurrency:null==l?void 0:l.currency}),(0,c.jsx)(x.Z,{mt:"3em",width:"100%",justifyContent:"center",children:(0,c.jsx)(eH.D,{})})]})})]})})]})})}),nP=eP.zo.div`
  margin-top: ${e=>{let{show:t}=e;return t?"16px":0}};
  padding-top: 16px;
  padding-bottom: 16px;
  width: 100%;
  max-width: 400px;
  border-radius: 20px;
  background-color: ${e=>{let{theme:t}=e;return t.colors.invertedContrast}};

  transform: ${e=>{let{show:t}=e;return t?"translateY(0%)":"translateY(-100%)"}};
  transition: transform 300ms ease-in-out;
`;function MMTradeDetail(e){let{loaded:t,mmTrade:n}=e,r=function(e,t){let[n,r]=(0,b.useState)(()=>t&&t(e)?e:void 0);return(0,b.useEffect)(()=>{r(n=>{let r=!t||t(e);return r?e:n})},[t,e]),n}(null==n?void 0:n.trade,isDefined);return(0,c.jsx)(nP,{show:t,children:(0,c.jsx)(eF.Tz,{gap:"0px",children:r&&(0,c.jsx)(nE,{pairs:[],path:null==r?void 0:r.routes[0].path,slippageAdjustedAmounts:null==n?void 0:n.slippageAdjustedAmounts,realizedLPFee:null==n?void 0:n.realizedLPFee,inputAmount:null==n?void 0:n.inputAmount,outputAmount:null==n?void 0:n.outputAmount,tradeType:null==n?void 0:n.tradeType,priceImpactWithoutFee:null==n?void 0:n.priceImpactWithoutFee,isMM:!0})})})}let nZ=(0,b.memo)(function(e){let{loaded:t,trade:n}=e,r=useSlippageAdjustedAmounts(n),o=useIsWrapping(),{priceImpactWithoutFee:i,lpFeeAmount:a}=(0,b.useMemo)(()=>(0,eg.U7)(n),[n]),l=(0,b.useMemo)(()=>null==n?void 0:n.routes.some(e=>e.pools.some(Z.SmartRouter.isStablePool)),[n]);if(o||!t||!n)return null;let{inputAmount:s,outputAmount:d,tradeType:u,routes:p}=n;return(0,c.jsx)(nP,{show:t,children:(0,c.jsxs)(eF.Tz,{gap:"0px",children:[(0,c.jsx)(nC,{slippageAdjustedAmounts:r,inputAmount:s,outputAmount:d,tradeType:u,priceImpactWithoutFee:i,realizedLPFee:a,hasStablePair:l}),(0,c.jsx)(th,{routes:p})]})})});var nI=n(21574),nN=n(92031),nM=n(78259),nU=n(98274),nD=n(82774),nR=n(28835),nO=n(11716);(i=d||(d={}))[i.REVIEWING=0]="REVIEWING",i[i.RESETTING_APPROVAL=1]="RESETTING_APPROVAL",i[i.APPROVING_TOKEN=2]="APPROVING_TOKEN",i[i.APPROVE_PENDING=3]="APPROVE_PENDING",i[i.PENDING_CONFIRMATION=4]="PENDING_CONFIRMATION",i[i.COMPLETED=5]="COMPLETED";var nF=n(8014);let useConfirmModalState=e=>{let{chainId:t,txHash:n,approval:r,approvalToken:o,isPendingError:i,currentAllowance:a,onConfirm:l,approveCallback:s,revokeCallback:u}=e,{waitForTransaction:c}=(0,nF.n)(),[p,m]=(0,b.useState)(d.REVIEWING),[x,h]=(0,b.useState)([]),[f,g]=(0,b.useState)(!1),[y,v]=(0,b.useState)(!1),T=(0,b.useCallback)(()=>{let e=[];return r===nR.UK.NOT_APPROVED&&(null==a?void 0:a.greaterThan(0))&&o&&o.chainId===tt.ethereumTokens.usdt.chainId&&o.wrapped.address.toLowerCase()===tt.ethereumTokens.usdt.address.toLowerCase()&&e.push(d.RESETTING_APPROVAL),r===nR.UK.NOT_APPROVED&&(g(!1),e.push(d.APPROVING_TOKEN,d.APPROVE_PENDING)),e.push(d.PENDING_CONFIRMATION),e},[r,o,a]),j=(0,b.useCallback)(()=>{m(d.REVIEWING),g(!1)},[]),w=(0,b.useCallback)(()=>{m(d.REVIEWING),h([]),g(!1),v(!1)},[]),A=(0,b.useCallback)(async e=>{switch(e){case d.RESETTING_APPROVAL:m(d.RESETTING_APPROVAL),u().then(()=>v(!0)).catch(()=>j());break;case d.APPROVING_TOKEN:m(d.APPROVING_TOKEN),s().then(()=>m(d.APPROVE_PENDING)).catch(()=>j());break;case d.PENDING_CONFIRMATION:m(d.PENDING_CONFIRMATION);try{await l()}catch(e){e instanceof TransactionRejectedError&&w()}break;case d.COMPLETED:m(d.COMPLETED);break;default:m(d.REVIEWING)}},[s,u,l,j,w]),k=(0,b.useCallback)(()=>{let e=T();h(e),A(e[0])},[T,A]),S=(0,b.useCallback)(async e=>{let n=await c({hash:e,chainId:t});"success"===n.status&&A(d.COMPLETED)},[A,c,t]);return(0,b.useEffect)(()=>{r===nR.UK.NOT_APPROVED&&y&&(k(),v(!1))},[r,y,A,k]),(0,b.useEffect)(()=>{r===nR.UK.PENDING&&p===d.APPROVE_PENDING&&g(!0)},[r,p]),(0,b.useEffect)(()=>{f&&r===nR.UK.NOT_APPROVED&&p===d.APPROVE_PENDING&&j()},[r,p,f,j]),(0,b.useEffect)(()=>{i&&p===d.APPROVE_PENDING&&j()},[i,p,f,j]),(0,b.useEffect)(()=>{(p===d.APPROVING_TOKEN||p===d.APPROVE_PENDING)&&r===nR.UK.APPROVED&&A(d.PENDING_CONFIRMATION)},[r,p,A]),(0,b.useEffect)(()=>{n&&p===d.PENDING_CONFIRMATION&&r===nR.UK.APPROVED&&S(n)},[r,n,p,S,A]),{confirmModalState:p,pendingModalSteps:x,startSwapFlow:k,resetSwapFlow:w}};var n_=n(62198),nB=n(36570),nL=n(87983),n$=n(98502),nz=n(35018),components_ConfirmSwapModalContainer=e=>{let{children:t,headerPadding:n,bodyTop:r,bodyPadding:o,hideTitleAndBackground:i,handleDismiss:a,...l}=e,{t:s}=(0,p.Z)();return(0,c.jsx)(g.ZP,{...l,title:i?"":s("Confirm Swap"),headerPadding:i&&n?n:"12px 24px",bodyPadding:i&&o?o:"24px",bodyTop:r,headerBackground:i?"transparent":"gradientCardHeader",headerBorderColor:i?"transparent":null,onDismiss:a,children:t})},nq=n(88844);let SwapTransactionErrorContent=e=>{let{onDismiss:t,message:n,openSettingModal:r}=e,o=null==n?void 0:n.includes("This transaction will not succeed either due to price movement or fee on transfer. Try increasing your slippage tolerance."),i=(0,b.useCallback)(()=>{null==t||t(),o&&r&&r()},[o,t,r]),{t:a}=(0,p.Z)();return o?(0,c.jsx)(nq.h,{message:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(eT.Z,{mb:"16px",children:[a("This transaction will not succeed either due to price movement or fee on transfer. Try increasing your")," ",(0,c.jsx)(eT.Z,{bold:!0,display:"inline",style:{cursor:"pointer"},onClick:i,children:(0,c.jsx)("u",{children:a("slippage tolerance.")})})]}),(0,c.jsx)(tJ.Z,{href:"https://docs.pancakeswap.finance/products/pancakeswap-exchange/trade-guide",style:{width:"100%",justifyContent:"center"},children:a("What are the potential issues with the token?")})]})}):(0,c.jsx)(nq.h,{message:n,onDismiss:t})},nV=(0,eP.zo)(tJ.Z)`
  &:hover {
    text-decoration: initial;
  }
`,nW=(0,eP.zo)(x.Z)`
  width: 100px;
  height: 8px;
  border-radius: 4px;
  margin: 16px auto auto auto;
  overflow: hidden;
  background: ${e=>{let{theme:t}=e;return t.colors.input}};
`,nG=(0,eP.zo)("div")`
  height: 100%;
  width: ${e=>{let{width:t}=e;return t}};
  background: ${e=>{let{theme:t,active:n}=e;return n?t.colors.secondary:t.colors.input}};
`,ApproveStepFlow=e=>{let{confirmModalState:t,pendingModalSteps:n}=e,{t:r}=(0,p.Z)(),{targetRef:o,tooltip:i,tooltipVisible:a}=(0,ev.Z)((0,c.jsx)(eT.Z,{children:r("If wallet require you to enter the number of tokens you want to approve, you could enter a number that is greater than or equal to the amount of tokens you are swapping.")}),{placement:"top"}),l=(0,b.useMemo)(()=>`${100/n.length}%`,[n]),s=(0,b.useMemo)(()=>1===n.length,[n]);return(0,c.jsxs)(M.ZP,{mt:"32px",children:[(0,c.jsx)(eT.Z,{fontSize:"12px",textAlign:"center",color:"textSubtle",children:r("Proceed in your wallet")}),!s&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(nW,{children:[3!==n.length&&(0,c.jsx)(nG,{active:t===d.RESETTING_APPROVAL,width:l}),(0,c.jsx)(nG,{active:t===d.APPROVING_TOKEN,width:l}),(0,c.jsx)(nG,{active:t===d.APPROVE_PENDING,width:l}),(0,c.jsx)(nG,{active:t===d.PENDING_CONFIRMATION,width:l})]}),t===d.RESETTING_APPROVAL&&(0,c.jsx)(nV,{external:!0,margin:"16px auto auto auto",href:"https://docs.pancakeswap.finance/products/pancakeswap-exchange/faq#why-do-i-need-to-reset-approval-on-usdt-before-enabling-approving",children:(0,c.jsx)(eT.Z,{color:"primary",children:r("Why resetting approval")})}),t===d.APPROVING_TOKEN&&(0,c.jsxs)(nV,{external:!0,margin:"16px auto auto auto",href:"https://docs.pancakeswap.finance/~/changes/d1gFBwxReM0gH1aeMo0G/readme/help/what-is-an-approval-transaction",children:[(0,c.jsx)(eT.Z,{color:"primary",children:r("Why")}),(0,c.jsx)(eT.Z,{m:"0 2px",color:"primary",style:{borderBottom:"1px dashed"},ref:o,children:r("approving")}),a&&i,(0,c.jsx)(eT.Z,{color:"primary",children:r("this?")})]})]})]})},nQ=(0,b.memo)(function(e){var t;let{isMM:n,trade:r,txHash:o,confirmModalState:i,startSwapFlow:a,pendingModalSteps:l,isRFQReady:s,attemptingTxn:u,originalTrade:m,showApproveFlow:h,currencyBalances:f,swapErrorMessage:g,onDismiss:y,onAcceptChanges:v,customOnDismiss:T,openSettingModal:j}=e,{chainId:w}=(0,O.g)(),{t:A}=(0,p.Z)(),[k]=(0,Y.eq)(),{recipient:S}=(0,C.dU)(),[E]=useWallchainStatus(),P=(0,K.Nr)("found"===E,500),Z=(0,eV.pu)(null==r?void 0:null===(t=r.outputAmount)||void 0===t?void 0:t.currency,w),I=(0,b.useCallback)(()=>{T&&(null==T||T()),null==y||y()},[T,y]),N=(0,b.useMemo)(()=>{var e,t,l,p,y,T,b,C,E,N;let M=null!==(y=null===(e=f.INPUT)||void 0===e?void 0:e.currency)&&void 0!==y?y:null==r?void 0:null===(t=r.inputAmount)||void 0===t?void 0:t.currency,U=null!==(T=null===(l=f.OUTPUT)||void 0===l?void 0:l.currency)&&void 0!==T?T:null==r?void 0:null===(p=r.outputAmount)||void 0===p?void 0:p.currency,D=null!==(b=(0,eU.dN)(null==r?void 0:r.inputAmount,6))&&void 0!==b?b:"",R=null!==(C=(0,eU.dN)(null==r?void 0:r.outputAmount,6))&&void 0!==C?C:"";return i===d.RESETTING_APPROVAL?(0,c.jsx)(nB.y,{title:A("Reset Approval on USDT"),isMM:n,isBonus:P}):h&&(i===d.APPROVING_TOKEN||i===d.APPROVE_PENDING)?(0,c.jsx)(nB.y,{title:A("Enable spending %symbol%",{symbol:`${null==r?void 0:null===(N=r.inputAmount)||void 0===N?void 0:null===(E=N.currency)||void 0===E?void 0:E.symbol}`}),isMM:n,isBonus:P}):g?(0,c.jsx)(x.Z,{width:"100%",alignItems:"center",height:"calc(430px - 73px - 120px)",children:(0,c.jsx)(SwapTransactionErrorContent,{message:g,onDismiss:I,openSettingModal:j})}):u?(0,c.jsx)(nL.F,{title:A("Confirm Swap"),currencyA:M,currencyB:U,amountA:D,amountB:R}):i===d.PENDING_CONFIRMATION?(0,c.jsx)(nL.F,{showIcon:!0,title:A("Transaction Submitted"),currencyA:M,currencyB:U,amountA:D,amountB:R,children:(0,c.jsx)(nz.Z,{mt:"39px",height:"auto",variant:"tertiary",width:"fit-content",padding:"6.5px 20px",marginTextBetweenLogo:"6px",textOptions:nz.L.TEXT_WITH_ASSET,tokenAddress:null==Z?void 0:Z.address,tokenSymbol:null==U?void 0:U.symbol,tokenDecimals:null==Z?void 0:Z.decimals,tokenLogo:Z instanceof n_.DT?null==Z?void 0:Z.logoURI:void 0})}):i===d.COMPLETED&&o?(0,c.jsxs)(n$.a,{children:[w&&(0,c.jsxs)(tT.Z,{external:!0,small:!0,href:(0,es.C)(o,"transaction",w),children:[A("View on %site%",{site:(0,es.X0)(w)}),": ",(0,tE.Z)(o,8,0),w===$.a_.BSC&&(0,c.jsx)(nT.Z,{color:"primary",ml:"4px"})]}),(0,c.jsx)(nz.Z,{mt:"39px",height:"auto",variant:"tertiary",width:"fit-content",padding:"6.5px 20px",marginTextBetweenLogo:"6px",textOptions:nz.L.TEXT_WITH_ASSET,tokenAddress:null==Z?void 0:Z.address,tokenSymbol:null==U?void 0:U.symbol,tokenDecimals:null==Z?void 0:Z.decimals,tokenLogo:Z instanceof n_.DT?null==Z?void 0:Z.logoURI:void 0})]}):(0,c.jsx)(tP,{isMM:n,trade:r,recipient:S,isRFQReady:s,originalTrade:m,allowedSlippage:k,currencyBalances:f,onConfirm:a,onAcceptChanges:v})},[n,P,r,o,s,m,u,f,h,g,Z,w,S,k,i,A,I,a,v,j]),U=(0,b.useMemo)(()=>i===d.RESETTING_APPROVAL||i===d.APPROVING_TOKEN||i===d.APPROVE_PENDING||u,[i,u]);return w?(0,c.jsxs)(components_ConfirmSwapModalContainer,{minHeight:"415px",width:["100%","100%","100%","367px"],hideTitleAndBackground:i!==d.REVIEWING,headerPadding:U?"12px 24px 0px 24px !important":"12px 24px",bodyPadding:U?"0 24px 24px 24px":"24px",bodyTop:U?"-15px":"0",handleDismiss:I,children:[(0,c.jsx)(M.ZP,{children:N}),U&&!g&&(0,c.jsx)(ApproveStepFlow,{confirmModalState:i,pendingModalSteps:l})]}):null}),nH=(0,eH.h7)(eH.ZP),nX=(0,b.memo)(function(e){var t,n,r,o,i,a;let{trade:l,tradeError:s,tradeLoading:d}=e,{chainId:u}=(0,O.g)(),{t:m}=(0,p.Z)(),{address:x}=(0,et.mA)(),[h]=(0,Y.zu)(),{typedValue:f,independentField:g,[S.gN.INPUT]:{currencyId:y},[S.gN.OUTPUT]:{currencyId:v}}=(0,C.dU)(),T=(0,A.U8)(y),w=(0,A.U8)(v),k=(0,nD.mP)(T,w),{onUserInput:E}=(0,j._)(),{wrapType:P,execute:I,inputError:N}=(0,ns.ZP)(T,w,f),D=P!==ns.kC.NOT_APPLICABLE,[F,_]=(0,eE.pW)(),B=useSlippageAdjustedAmounts(l),L=(0,nO.Z)(),[z,q,V]=function(e,t,n){let[r,o]=(0,b.useState)(void 0),[i,a]=useWallchainStatus(),[l,s]=(0,b.useState)(void 0),{data:d}=(0,et.py)(),{account:u}=(0,J.Z)(),[c]=(0,Y.eq)()||[e3.gv],p=(0,b.useMemo)(()=>(0,e8.P4)(c),[c]),[m,x]=(0,b.useState)(0),h=useWallchainSDK(),f=useSwapCallArguments(e,p,u,t,void 0);return(0,b.useEffect)(()=>{if(!h||!d||!e||!u){a("not-found");return}if(0===e.routes.length||e.inputAmount.currency.chainId!==$.a_.BSC||m>Date.now()-2e3)return;let t=e.routes.some(e=>{let t=e.inputAmount.currency.isToken&&to.some(t=>e.inputAmount.currency.equals(t)),n=e.outputAmount.currency.isToken&&to.some(t=>e.outputAmount.currency.equals(t));return t||n});t?("found"!==i&&a("pending"),tp(u,h,f).then(e=>{let[t,n,r,i]=e;a(t),o(n),s([r,i]),x(Date.now())}).catch(e=>{a("not-found"),o(void 0),s(void 0),(0,e6.Tb)(e),x(Date.now())})):(a("not-found"),o(void 0),s(void 0))},[d,u,f,h,e,a]),[i,r,l]}(l,L),[W,G]=(0,b.useState)("not-found"),Q="found"===z||"found"===W?q:ti.cN[null==l?void 0:null===(n=l.inputAmount)||void 0===n?void 0:null===(t=n.currency)||void 0===t?void 0:t.chainId],H=B[S.gN.INPUT],X=(0,el.K5)(null!=x?x:void 0,[null!=T?T:void 0,null!=w?w:void 0]),K={[S.gN.INPUT]:X[0],[S.gN.OUTPUT]:X[1]},{approvalState:ee,approveCallback:en,revokeCallback:er,currentAllowance:eo,isPendingError:ea}=(0,nR.qL)(H,Q),{priceImpactWithoutFee:ed}=(0,b.useMemo)(()=>D?{}:(0,eg.U7)(l),[D,l]),eu=function(e,t){var n,r;let o;let{t:i}=(0,p.Z)(),{address:a}=(0,et.mA)(),{independentField:l,typedValue:s}=(0,C.dU)(),d=null===(n=t[S.gN.INPUT])||void 0===n?void 0:n.currency,u=null===(r=t[S.gN.OUTPUT])||void 0===r?void 0:r.currency,c=useSlippageAdjustedAmounts(e),m=a||null,x=l===S.gN.INPUT,h=x?d:u,f=(0,ei.Z)(s,null!=h?h:void 0);a||(o=i("Connect Wallet")),f||(o=null!=o?o:i("Enter an amount")),d&&u||(o=null!=o?o:i("Select a token"));let g=(0,es.xP)(m);m&&g?(-1!==nu.indexOf(g)||e&&e.routes.some(e=>e.path.some(e=>e.isToken&&e.address===g)))&&(o=null!=o?o:i("Invalid recipient")):o=null!=o?o:i("Enter a recipient");let[y,v]=[t[S.gN.INPUT],c?c[S.gN.INPUT]:null];return y&&v&&y.lessThan(v)&&(o=i("Insufficient %symbol% balance",{symbol:v.currency.symbol})),o}(l,K),ec=function(e,t,n){var r,o;let{independentField:i,typedValue:a}=(0,C.dU)(),l=null===(r=t[S.gN.INPUT])||void 0===r?void 0:r.currency,s=null===(o=t[S.gN.OUTPUT])||void 0===o?void 0:o.currency,d=i===S.gN.INPUT,u=d?l:s,c=(0,ei.Z)(a,null!=u?u:void 0);return n?{[S.gN.INPUT]:c,[S.gN.OUTPUT]:c}:{[S.gN.INPUT]:i===S.gN.INPUT?c:null==e?void 0:e.inputAmount,[S.gN.OUTPUT]:i===S.gN.OUTPUT?c:null==e?void 0:e.outputAmount}}(l,K,D),ep=ec[g],[em,ex]=(0,b.useState)(!1),eh=(0,b.useCallback)(()=>{ex(!1)},[ex]),{callback:ef,error:ey,reason:ev}=function(e){let{trade:t,deadline:n,feeOptions:r,onWallchainDrop:o,wallchainMasterInput:i}=e,{t:a}=(0,p.Z)(),{account:l,chainId:s}=(0,J.Z)(),[d]=(0,Y.eq)()||[e3.gv],u=(0,b.useMemo)(()=>(0,e8.P4)(d),[d]),{recipient:c}=(0,C.dU)(),m=null===c?l:c,x=useSwapCallArguments(t,u,c,n,r),h=function(e,t,n,r,o){var i,a,l,s,d,u;let[c,p]=(0,b.useState)([]),{data:m}=(0,et.py)(),[x,h]=extractTokensFromTrade(e),f=null==e?void 0:null===(a=e.inputAmount)||void 0===a?void 0:null===(i=a.currency)||void 0===i?void 0:i.isNative,g=null==e?void 0:null===(s=e.inputAmount)||void 0===s?void 0:null===(l=s.numerator)||void 0===l?void 0:l.toString(),y=!(null==e?void 0:null===(u=e.inputAmount)||void 0===u?void 0:null===(d=u.currency)||void 0===d?void 0:d.isNative),v=useWallchainSDK();return(0,b.useEffect)(()=>{if(!m||!o||!o[0]||!x||!h||!g||!t||!t[0]||!v||!n){t&&t.length?p(t):p([]);return}loadData(n,v,t).then(async e=>{let[o,i,a,l,s]=e;if("not-found"===o){if(f)p(t);else{let callback=async()=>(r(),{error:Error("MEV not found")});p([{getCall:callback}])}}else{let callback=async()=>{try{let e=await v.getSpender(),r=!1;y&&(r=await v.signPermit(x,n,e,g));let o=await v.createNewTransaction(t[0].address,t[0].address,!1,t[0].calldata,g,t[0].value,x,h,l,a,r);return{address:o.to,calldata:o.data,value:o.value,gas:s}}catch(e){return{error:e}}};p([{getCall:callback}])}})},[n,t,o,x,h,g,y,m,v,r,f]),c}(t,x,l,o,i),{callback:f}=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],{t:o}=(0,p.Z)(),i=(0,nc.h7)(),{sendTransactionAsync:a}=(0,et.pQ)(),l=nh.rk[t],[s]=(0,Y.eq)()||[e3.gv],{recipient:d}=(0,C.dU)(),u=null===d?e:d;return(0,b.useMemo)(()=>n&&a&&e&&t&&l?{callback:async function(){let c=await Promise.all(r.map(t=>{let{address:n,calldata:r,value:i}=t;if("getCall"in t)return{call:t,gasEstimate:void 0};let a=!i||isZero(i)?{account:e,to:n,data:r,value:0n}:{account:e,to:n,data:r,value:(0,nf.y_)(i)};return l.estimateGas(a).then(e=>({call:t,gasEstimate:e})).catch(e=>(console.debug("Gas estimate failed, trying to extract error",t,e),{call:t,error:(0,nx.e)(e,o)}))})),p=c.find((e,t,n)=>"gasEstimate"in e&&(t===n.length-1||"gasEstimate"in n[t+1]));if(!p){let e=c.filter(e=>"error"in e);if(e.length>0)throw e[e.length-1].error;let t=c.find(e=>!("error"in e));if(!t)throw Error(o("Unexpected error. Could not estimate gas for the swap."));p=t}let m="getCall"in p.call?await p.call.getCall():p.call;if("error"in m)throw Error("Route lost. Need to restart.");return"gas"in m&&m.gas?m.gas=BigInt(m.gas):m.gas="gasEstimate"in p&&p.gasEstimate?(0,es.yC)(p.gasEstimate):void 0,a({account:e,chainId:t,to:m.address,data:m.calldata,value:m.value&&!isZero(m.value)?(0,nf.y_)(m.value):0n,gas:m.gas}).then(r=>{let o=n.inputAmount.currency.symbol,a=n.outputAmount.currency.symbol,l=(0,e8.P4)(s),c=n.tradeType===U.YL.EXACT_INPUT?(0,eU.dN)(n.inputAmount,3):(0,eU.dN)(Z.SmartRouter.maximumAmountIn(n,l),3),p=n.tradeType===U.YL.EXACT_OUTPUT?(0,eU.dN)(n.outputAmount,3):(0,eU.dN)(Z.SmartRouter.minimumAmountOut(n,l),3),m=`Swap ${n.tradeType===U.YL.EXACT_OUTPUT?"max.":""} ${c} ${o} for ${n.tradeType===U.YL.EXACT_INPUT?"min.":""} ${p} ${a}`,x=u&&(0,es.xP)(u)?(0,tE.Z)(u):u,h=d===e?m:`${m} to ${x}`,f=n.tradeType===U.YL.EXACT_OUTPUT?d===e?"Swap max. %inputAmount% %inputSymbol% for %outputAmount% %outputSymbol%":"Swap max. %inputAmount% %inputSymbol% for %outputAmount% %outputSymbol% to %recipientAddress%":d===e?"Swap %inputAmount% %inputSymbol% for min. %outputAmount% %outputSymbol%":"Swap %inputAmount% %inputSymbol% for min. %outputAmount% %outputSymbol% to %recipientAddress%";return i(r,{summary:h,translatableSummary:{text:f,data:{inputAmount:c,inputSymbol:o,outputAmount:p,outputSymbol:a,...d!==e&&{recipientAddress:x}}},type:"swap"}),(0,np.M)({account:e,chainId:t,hash:r.hash,inputAmount:c,outputAmount:p,input:n.inputAmount.currency,output:n.outputAmount.currency,type:"V3SmartSwap"}),(0,np.u)({account:e,chainId:t,hash:r.hash}),r}).catch(e=>{if((0,nm.Z)(e))throw new TransactionRejectedError(o("Transaction rejected"));throw ny.kg.warn("Swap failed",{chainId:t,input:n.inputAmount.currency,output:n.outputAmount.currency,address:m.address,value:m.value,cause:e instanceof ng.mk?e.cause:void 0},e),Error(`Swap failed: ${(0,nx.e)(e,o)}`)})}}:{callback:null},[n,a,e,t,l,r,o,s,u,d,i])}(l,s,t,h);return(0,b.useMemo)(()=>t&&l&&s&&f?m?{state:2,callback:async()=>f()}:null!==c?{state:0,error:a("Invalid recipient")}:{state:1}:{state:0,error:a("Missing dependencies")},[t,l,s,f,m,c,a])}({trade:l,deadline:L,onWallchainDrop:eh,wallchainMasterInput:V}),[{tradeToConfirm:ej,swapErrorMessage:ew,attemptingTxn:eA,txHash:ek},eS]=(0,b.useState)({tradeToConfirm:void 0,attemptingTxn:!1,swapErrorMessage:void 0,txHash:void 0}),eC=(0,b.useCallback)(()=>{eS({tradeToConfirm:ej,attemptingTxn:eA,swapErrorMessage:ew,txHash:ek}),ek&&E(S.gN.INPUT,"")},[eA,E,ew,ej,ek,eS]),eP=(0,b.useCallback)(async()=>{if(!ed||function(e,t,n,r){if(!e.lessThan(t)){let e="confirm";return window.prompt(r('This swap has a price impact of at least %amount%%. Please type the word "%word%" to continue with this swap.',{amount:t.toFixed(0),word:e}))===e}return!!e.lessThan(n)||window.confirm(r("This swap has a price impact of at least %amount%%. Please confirm that you would like to continue with this swap.",{amount:n.toFixed(0)}))}(ed,R.EV,R.Uf,m)){if(!ef){"insufficient allowance"===ev&&(ex(!1),G("found"));return}return eS({attemptingTxn:!0,tradeToConfirm:ej,swapErrorMessage:void 0,txHash:void 0}),ef().then(e=>{G("not-found"),eS({attemptingTxn:!1,tradeToConfirm:ej,swapErrorMessage:void 0,txHash:e.hash})}).catch(e=>{if(G("not-found"),e instanceof TransactionRejectedError)throw eS(e=>({...e,txHash:void 0,attemptingTxn:!1})),e;eS({attemptingTxn:!1,tradeToConfirm:ej,swapErrorMessage:"string"==typeof e?e:null==e?void 0:e.message,txHash:void 0})})}},[ed,m,ef,ej,ev]),eZ=(0,b.useCallback)(()=>{eS({tradeToConfirm:l,swapErrorMessage:ew,txHash:ek,attemptingTxn:eA})},[eA,ew,l,ek,eS]),eN=(0,e8.oX)(ed),eM=!eu&&(ee===nR.UK.NOT_APPROVED||ee===nR.UK.PENDING||em&&ee===nR.UK.APPROVED)&&!(eN>3&&!h),[eD,eR]=(0,b.useState)(!1),[eO]=(0,eb.Z)((0,c.jsx)(nH,{customOnDismiss:()=>eR(!0),mode:eI.a.SWAP_LIQUIDITY})),{confirmModalState:e_,pendingModalSteps:eB,startSwapFlow:eL,resetSwapFlow:e$}=useConfirmModalState({txHash:ek,chainId:u,approval:ee,approvalToken:null==l?void 0:null===(r=l.inputAmount)||void 0===r?void 0:r.currency,isPendingError:ea,isExpertMode:h,currentAllowance:eo,approveCallback:en,revokeCallback:er,onConfirm:eP}),[eq]=(0,eb.Z)((0,c.jsx)(nQ,{trade:l,txHash:ek,approval:ee,attemptingTxn:eA,originalTrade:ej,showApproveFlow:eM,currencyBalances:K,confirmModalState:e_,pendingModalSteps:eB,startSwapFlow:eL,swapErrorMessage:ew,currentAllowance:eo,onAcceptChanges:eZ,customOnDismiss:eC,openSettingModal:eO}),!0,!0,"confirmSwapModal"),eV=(0,b.useCallback)(()=>{eS({tradeToConfirm:l,attemptingTxn:!1,swapErrorMessage:void 0,txHash:void 0}),e$(),h&&eL(),eq(),(0,nI.K2)()},[l,eq,h,eL,e$]);if((0,b.useEffect)(()=>{eD&&(eR(!1),eS(e=>({...e,swapErrorMessage:void 0})),eq())},[eD,eq,eS]),(0,b.useEffect)(()=>{ex(!1)},[null==l?void 0:null===(o=l.inputAmount)||void 0===o?void 0:o.currency]),(0,b.useEffect)(()=>{ee===nR.UK.PENDING&&ex(!0)},[ee,em]),k)return(0,c.jsx)(tb.Z,{width:"100%",disabled:!0,children:m("Unsupported Asset")});if(!x)return(0,c.jsx)(nU.Z,{width:"100%"});if(D)return(0,c.jsx)(nM.A,{width:"100%",disabled:!!N,onClick:I,"data-dd-action-name":"Swap wrap button",children:null!=N?N:P===ns.kC.WRAP?m("Wrap"):P===ns.kC.UNWRAP?m("Unwrap"):null});let eW=!((null!==(a=null==l?void 0:null===(i=l.routes)||void 0===i?void 0:i.length)&&void 0!==a?a:0)>0)||s,eG=!!(T&&w&&(null==ep?void 0:ep.greaterThan(R.iV)));if(eW&&eG&&!d)return(0,c.jsxs)(eF.Tz,{gap:"12px",children:[(0,c.jsx)(nN.h2,{style:{textAlign:"center",padding:"0.75rem"},children:(0,c.jsx)(eT.Z,{color:"textSubtle",children:m("Insufficient liquidity for this trade.")})}),F&&(0,c.jsx)(tQ.Z,{variant:"warning",icon:(0,c.jsx)(c.Fragment,{}),children:(0,c.jsxs)(eF.Tz,{gap:"8px",children:[(0,c.jsx)(tQ.Y,{children:m("Unable to establish trading route due to customized routing.")}),(0,c.jsxs)(ez.BA,{gap:"4px",children:[(0,c.jsx)(eH.D,{buttonProps:{scale:"xs",p:0},showRedDot:!1,children:m("Check your settings")}),(0,c.jsx)(tQ.Y,{children:m("or")}),(0,c.jsx)(tb.Z,{variant:"text",scale:"xs",p:"0",onClick:_,"data-dd-action-name":"Swap reset routing settings button",children:m("Reset to default")})]})]})})]});let eQ=!eu&&!d;return(0,c.jsx)(M.ZP,{mt:"0.25rem",children:(0,c.jsx)(nM.A,{id:"swap-button",width:"100%",variant:eQ&&eN>2&&!ey?"danger":"primary",disabled:!eQ||eN>3&&!h||!!ey||"pending"===z,onClick:eV,"data-dd-action-name":"Swap commit button",children:eu||d&&(0,c.jsx)(tj.b,{children:m("Searching For The Best Price")})||(eN>3&&!h?m("Price Impact Too High"):eN>2?m("Swap Anyway"):m("Swap"))})})});var nK=n(68917);let nY=(0,b.memo)(function(e){let{currency:t}=e,{t:n}=(0,p.Z)(),{chainId:r}=(0,O.g)(),o=function(e){let{currencySymbol:t,chainId:n}=e;return(0,b.useMemo)(()=>!!t&&!!n&&(0,nK.IR)(n)&&nK.Pz.includes(t),[t,n])}({chainId:r,currencySymbol:null==t?void 0:t.symbol});return t&&o?(0,c.jsx)("div",{}):null});var nJ=n(74954),n0=n(65669),n1=n(95692),n2=n(56367);(a=u||(u={}))[a.INVALID=0]="INVALID",a[a.LOADING=1]="LOADING",a[a.VALID=2]="VALID";let n4=(0,eH.h7)(eH.ZP);function MMSwapCommitButton(e){var t;let{swapIsUnsupported:n,account:r,showWrap:o,wrapInputError:i,onWrap:a,wrapType:l,approval:s,approveCallback:d,revokeCallback:u,approvalSubmitted:m,rfqTrade:x,swapInputError:h,currencyBalances:f,recipient:g,onUserInput:y,isPendingError:v,currentAllowance:T}=e,{chainId:j}=(0,O.g)(),[w]=(0,Y.zu)(),{t:A}=(0,p.Z)(),k=function(e,t,n){var r,o;let{account:i,chainId:a}=(0,J.Z)(),l=null!=n?n:i,s=(0,nO.Z)(),d=function(){let{chainId:e}=(0,O.g)();return(0,_.cq)(G[e],F)}(),u=null!==(o=null==H?void 0:null===(r=H[a])||void 0===r?void 0:r[null==t?void 0:t.mmId])&&void 0!==o?o:"";return(0,b.useMemo)(()=>{if(!e||!l||!i||!a||!s||!u||!t||!d)return[];let n=[];return n.push(function(e,t,n,r){let o;let i=t.inputAmount.currency.isNative,a=t.outputAmount.currency.isNative;(0,n0.Z)(!(i&&a),"ETHER_IN_OUT"),(0,n0.Z)(n,"RFQ_REQUIRED"),(0,n0.Z)(n.trader!==V,"RFQ_REQUIRED");let l=[e,{nonce:null==n?void 0:n.nonce,user:r,baseToken:null==n?void 0:n.takerSideToken,quoteToken:null==n?void 0:n.makerSideToken,baseTokenAmount:null==n?void 0:n.takerSideTokenAmount,quoteTokenAmount:null==n?void 0:n.makerSideTokenAmount,expiryTimestamp:null==n?void 0:n.quoteExpiry.toString()},n.signature];return i&&(o=n.takerSideTokenAmount),{methodName:"swap",args:l,value:o?(0,nJ._s)(o):void 0}}(u,e,t,l)),n.map(e=>({parameters:e,contract:d}))},[i,a,d,s,l,e,t,u])}(x.trade,x.rfq,g),{callback:C,error:E}=function(e,t,n){let{account:r,chainId:o}=(0,J.Z)(),i=(0,n2.Fh)(),{t:a}=(0,p.Z)(),l=(0,nc.h7)(),s=null===t?r:t;return(0,b.useMemo)(()=>e&&r&&o?s?{state:2,callback:async function(){let d=await Promise.all(n.map(e=>{let{parameters:{methodName:t,args:n,value:o},contract:i}=e,l=!o||(0,n1.Z)(o)?{value:void 0,account:r}:{value:(0,nf.y_)(o),account:r};return i.estimateGas[t](n,l).then(t=>({call:e,gasEstimate:t})).catch(r=>(console.error("Gas estimate failed, trying eth_call to extract error",e),i.simulate[t](n,l).then(t=>(console.error("Unexpected successful call after failed estimate gas",e,r,t),{call:e,error:a("Unexpected issue with estimating the gas. Please try again.")})).catch(t=>(console.error("Call threw error",e,t),{call:e,error:(0,nx.e)(t,a)}))))})),u=d.find((e,t,n)=>"gasEstimate"in e&&(t===n.length-1||"gasEstimate"in n[t+1]));if(!u){let e=d.filter(e=>"error"in e);if(e.length>0)throw Error(e[e.length-1].error);throw Error(a("Unexpected error. Could not estimate gas for the swap."))}let{call:{contract:c,parameters:{methodName:p,args:m,value:x}},gasEstimate:h}=u;return c.write[p](m,{gas:(0,es.yC)(h),gasPrice:i,...x&&!(0,n1.Z)(x)?{value:x,account:r}:{account:r}}).then(n=>{let i=e.inputAmount.currency.symbol,a=e.outputAmount.currency.symbol,d=e.inputAmount.toSignificant(3),u=e.outputAmount.toSignificant(3),c=`Swap ${e.tradeType===U.YL.EXACT_OUTPUT?"max.":""} ${d} ${i} for ${e.tradeType===U.YL.EXACT_INPUT?"min.":""} ${u} ${a}`,p=t&&(0,es.xP)(t)?(0,tE.Z)(t):t,m=s===r?c:`${c} to ${p}`,x=e.tradeType===U.YL.EXACT_OUTPUT?s===r?"Swap max. %inputAmount% %inputSymbol% for %outputAmount% %outputSymbol%":"Swap max. %inputAmount% %inputSymbol% for %outputAmount% %outputSymbol% to %recipientAddress%":s===r?"Swap %inputAmount% %inputSymbol% for min. %outputAmount% %outputSymbol%":"Swap %inputAmount% %inputSymbol% for min. %outputAmount% %outputSymbol% to %recipientAddress%";return l({hash:n},{summary:m,translatableSummary:{text:x,data:{inputAmount:d,inputSymbol:i,outputAmount:u,outputSymbol:a,...s!==r&&{recipientAddress:p}}},type:"swap"}),(0,np.M)({account:r,hash:n,chainId:o,inputAmount:d,outputAmount:u,input:e.inputAmount.currency,output:e.outputAmount.currency,type:"MarketMakerSwap"}),(0,np.u)({account:r,chainId:o,hash:n}),n}).catch(e=>{if((0,nm.Z)(e))throw Error("Transaction rejected.");throw console.error("Swap failed",e,p,m,x),Error(a("Swap failed: %message%",{message:(0,nx.e)(e,a)}))})},error:null}:null!==t?{state:0,callback:null,error:"Invalid recipient"}:{state:1,callback:null,error:null}:{state:0,callback:null,error:"Missing dependencies"},[e,r,o,s,t,n,a,l,i])}(x.trade,g,k),[{tradeToConfirm:P,swapErrorMessage:Z,attemptingTxn:I,txHash:N},M]=(0,b.useState)({tradeToConfirm:void 0,attemptingTxn:!1,swapErrorMessage:void 0,txHash:void 0}),D=(0,b.useCallback)(async()=>{if(C)return M({attemptingTxn:!0,tradeToConfirm:P,swapErrorMessage:void 0,txHash:void 0}),C().then(e=>{M({attemptingTxn:!1,tradeToConfirm:P,swapErrorMessage:void 0,txHash:e})}).catch(e=>{M({attemptingTxn:!1,tradeToConfirm:P,swapErrorMessage:e.message,txHash:void 0})})},[C,P,M]),R=(0,b.useCallback)(()=>{M({tradeToConfirm:x.trade,swapErrorMessage:Z,txHash:N,attemptingTxn:I})},[I,Z,x,N,M]),B=(0,b.useCallback)(()=>{M({tradeToConfirm:P,attemptingTxn:I,swapErrorMessage:Z,txHash:N}),N&&y(S.gN.INPUT,"")},[I,y,Z,P,N,M]),L=!h&&(s===nR.UK.NOT_APPROVED||s===nR.UK.PENDING||m&&s===nR.UK.APPROVED),[$,z]=(0,b.useState)(!1),[q]=(0,eb.Z)((0,c.jsx)(n4,{customOnDismiss:()=>z(!0),mode:eI.a.SWAP_LIQUIDITY})),{confirmModalState:W,pendingModalSteps:Q,startSwapFlow:X,resetSwapFlow:K}=useConfirmModalState({txHash:N,chainId:j,approval:s,approvalToken:null==x?void 0:null===(t=x.trade)||void 0===t?void 0:t.inputAmount.currency,isPendingError:v,isExpertMode:w,currentAllowance:T,approveCallback:d,revokeCallback:u,onConfirm:D}),[ee]=(0,eb.Z)((0,c.jsx)(nQ,{isMM:!0,trade:x.trade,txHash:N,approval:s,attemptingTxn:I,confirmModalState:W,pendingModalSteps:Q,startSwapFlow:X,originalTrade:P,showApproveFlow:L,currencyBalances:f,isRFQReady:!!x.rfq&&!x.isLoading,currentAllowance:T,swapErrorMessage:Z||!x.trade&&A("Unable request a quote"),onAcceptChanges:R,customOnDismiss:B,openSettingModal:q}),!0,!0,"MMconfirmSwapModal"),et=(0,b.useCallback)(()=>{M({tradeToConfirm:x.trade,attemptingTxn:!1,swapErrorMessage:void 0,txHash:void 0}),K(),w&&X(),ee(),(0,nI.K2)()},[x,ee,w,X,K]);if((0,b.useEffect)(()=>{$&&(z(!1),M(e=>({...e,swapErrorMessage:void 0})),ee())},[$,ee,M]),n)return(0,c.jsx)(tb.Z,{width:"100%",disabled:!0,children:A("Unsupported Asset")});if(!r)return(0,c.jsx)(nU.Z,{width:"100%"});if(o)return(0,c.jsx)(nM.A,{width:"100%",disabled:!!i,onClick:a,"data-dd-action-name":"Swap wrap button",children:null!=i?i:l===ns.kC.WRAP?A("Wrap"):l===ns.kC.UNWRAP?A("Unwrap"):null});let en=!h;return(0,c.jsx)(nM.A,{width:"100%",id:"swap-button",variant:"primary",disabled:!x.rfq||!en||!!E,onClick:et,"data-dd-action-name":"Swap mm commit button",children:parseMMError(h)||A("Swap")})}function MMCommitButton(e){let{mmOrderBookTrade:t,mmRFQTrade:n,mmQuoteExpiryRemainingSec:r,mmTradeInfo:o}=e,{typedValue:i,recipient:a,[S.gN.INPUT]:{currencyId:l},[S.gN.OUTPUT]:{currencyId:s}}=(0,C.dU)(),d=(0,A.U8)(l),u=(0,A.U8)(s),{address:p}=(0,et.mA)(),[m]=(0,Y.zu)(),x=(0,b.useMemo)(()=>({[S.gN.INPUT]:null!=d?d:void 0,[S.gN.OUTPUT]:null!=u?u:void 0}),[d,u]),h=(0,nD.mP)(null==x?void 0:x.INPUT,null==x?void 0:x.OUTPUT),{wrapType:f,execute:g,inputError:y}=(0,ns.ZP)(d,u,i),v=f!==ns.kC.NOT_APPLICABLE,{approvalState:T,approveCallback:w,revokeCallback:k,currentAllowance:E,isPendingError:P}=(0,nR.qL)(null==o?void 0:o.slippageAdjustedAmounts[S.gN.INPUT],null==o?void 0:o.routerAddress),[Z,I]=(0,b.useState)(!1);(0,b.useEffect)(()=>{I(!1)},[l]),(0,b.useEffect)(()=>{T===nR.UK.PENDING&&I(!0)},[T,Z]);let{onUserInput:N}=(0,j._)();return(0,c.jsx)(MMSwapCommitButton,{showWrap:v,approval:T,swapIsUnsupported:h,account:p,approvalSubmitted:Z,onWrap:g,approveCallback:w,revokeCallback:k,currencies:x,currencyBalances:null==t?void 0:t.currencyBalances,isExpertMode:m,mmQuoteExpiryRemainingSec:r,rfqTrade:n,swapInputError:null==t?void 0:t.swapInputError,wrapType:f,wrapInputError:y,recipient:a,onUserInput:N,isPendingError:P,currentAllowance:E})}function V3SwapForm(){var e,t,n;let{isLoading:r,trade:o,refresh:i,syncing:a,isStale:l,error:s}=function(){let{maxHops:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{independentField:t,typedValue:n,[S.gN.INPUT]:{currencyId:r},[S.gN.OUTPUT]:{currencyId:o}}=(0,C.dU)(),i=(0,A.U8)(r),a=(0,A.U8)(o),l=t===S.gN.INPUT,s=l?i:a,d=l?U.YL.EXACT_INPUT:U.YL.EXACT_OUTPUT,u=(0,ei.Z)(n,null!=s?s:void 0),[c]=(0,Y.RO)(),[p]=(0,eE.fq)(),[m]=(0,eE.IV)(),[x]=(0,eE.U3)(),[h]=(0,eE.s4)(),{isLoading:f,trade:g,refresh:y,syncing:v,isStale:T,error:j}=(0,nd.ZU)({amount:u,currency:l?a:i,baseCurrency:s,tradeType:d,maxHops:c?1:e,maxSplits:p?void 0:0,v2Swap:m,v3Swap:x,stableSwap:h,type:"auto",trackPerf:!0});return{refresh:y,syncing:v,isStale:T,error:j,isLoading:(0,b.useDeferredValue)(!!(f||n&&!g&&!j)),trade:n?g:void 0}}(),d=function(e){let{independentField:t,typedValue:n,[S.gN.INPUT]:{currencyId:r},[S.gN.OUTPUT]:{currencyId:o}}=(0,C.dU)(),i=(0,A.U8)(r),a=(0,A.U8)(o);return function(e,t,n,r,o,i){let[a]=(0,Y.zu)(),l=function(){let{query:e}=(0,T.useRouter)();return!!e["dev-mode"]}(),[s]=(0,Y.eq)(),{account:d,chainId:u}=(0,J.Z)(),c=(0,K.Nr)(t,300),p=useMMTrade(e,c,n,r),m=useIsTradeWithMMBetter({independentField:e,trade:i,v2Trade:o,tradeWithMM:null==p?void 0:p.trade,isExpertMode:a}),{refreshRFQ:x,rfqId:h}=useGetRFQId((!(null==p?void 0:p.inputError)||l)&&(null==p?void 0:p.mmParam),m,null==p?void 0:p.rfqUserInputPath,null==p?void 0:p.isRFQLive),f=useGetRFQTrade(h,e,n,r,m,x,null==p?void 0:p.isRFQLive),g=useIsTradeWithMMBetter({independentField:e,trade:i,v2Trade:o,tradeWithMM:null==f?void 0:f.trade,isExpertMode:a}),y=function(e){let{mmTrade:t,chainId:n,mmSwapInputError:r}=e;return(0,b.useMemo)(()=>t?{trade:t,tradeType:t.tradeType,route:t.routes[0],inputAmount:t.inputAmount,outputAmount:t.outputAmount,slippageAdjustedAmounts:{[S.gN.INPUT]:t&&t.inputAmount,[S.gN.OUTPUT]:t&&t.outputAmount},executionPrice:new U.tA(t.inputAmount.currency,t.outputAmount.currency,t.inputAmount.quotient,t.outputAmount.quotient),routerAddress:G[n],priceImpactWithoutFee:U.fI,realizedLPFee:computeTradePriceBreakdown(t).lpFeeAmount,inputError:r}:null,[t,n,r])}({mmTrade:(null==f?void 0:f.trade)||(null==p?void 0:p.trade),allowedSlippage:s,chainId:u,mmSwapInputError:null==p?void 0:p.inputError}),v=useMMQuoteCountDown((null==f?void 0:f.trade)?null==f?void 0:f.quoteExpiry:null,g?null==f?void 0:f.refreshRFQ:void 0);return{mmTradeInfo:y,isMMBetter:d?g:m,mmQuoteExpiryRemainingSec:v,mmOrderBookTrade:p,mmRFQTrade:f}}(t,n,i,a,null,e)}(o),u=(0,b.useMemo)(()=>N()(()=>{i()},3e3),[i]),p=d.isMMBetter?null==d?void 0:null===(e=d.mmTradeInfo)||void 0===e?void 0:e.trade:o,m=!r,x=(0,b.useMemo)(()=>o&&Z.SmartRouter.getExecutionPrice(o),[o]),h=function(e){let{address:t}=(0,et.mA)(),{[S.gN.INPUT]:{currencyId:n},[S.gN.OUTPUT]:{currencyId:r}}=(0,C.dU)(),o=(0,A.U8)(n),i=(0,A.U8)(r),a=useSlippageAdjustedAmounts(e),l=(0,el.K5)(null!=t?t:void 0,[null!=o?o:void 0,null!=i?i:void 0]),[s,d]=[ef()(l),a?a[S.gN.INPUT]:null];return s&&d&&s.lessThan(d)?o:void 0}(o);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(FormHeader,{onRefresh:u,refreshDisabled:!m||a||!l}),(0,c.jsx)(FormMain,{tradeLoading:!d.isMMBetter&&!m,pricingAndSlippage:(0,c.jsx)(nS,{priceLoading:r,price:x,showSlippage:!d.isMMBetter}),inputAmount:null==p?void 0:p.inputAmount,outputAmount:null==p?void 0:p.outputAmount,swapCommitButton:(null==d?void 0:d.isMMBetter)?(0,c.jsx)(MMCommitButton,{...d}):(0,c.jsx)(nX,{trade:o,tradeError:s,tradeLoading:!m})}),(0,c.jsx)(nY,{currency:h}),d.isMMBetter?(0,c.jsx)(MMTradeDetail,{loaded:!d.mmOrderBookTrade.isLoading,mmTrade:d.mmTradeInfo}):(0,c.jsx)(nZ,{loaded:m,trade:o}),(shouldShowMMLiquidityError(null==d?void 0:null===(t=d.mmOrderBookTrade)||void 0===t?void 0:t.inputError)||(null==d?void 0:null===(n=d.mmRFQTrade)||void 0===n?void 0:n.error))&&!o&&(0,c.jsx)(M.ZP,{mt:"5px",children:(0,c.jsx)(MMLiquidityWarning,{})})]})}var n5=n(35044),n6=n(94472),n3=n(31419),n9=n(29646),n8=n(4841),n7=n(55595),re=n(13377),hooks_useTradingRewardTokenList=()=>{let{chainId:e}=(0,O.g)(),{data:t}=(0,re.ZP)({status:re.dL.ALL,type:re.E4.CAKE_STAKERS}),n=(0,b.useMemo)(()=>{let n=Date.now()/1e3,r=t.campaignIds.filter(e=>{let r=t.campaignIdsIncentive.find(t=>t.campaignId===e);if(n<=r.campaignClaimTime)return e}),o={};r.forEach(n=>{t.campaignPairs[n]&&(o[n]=t.campaignPairs[n][e])});let i=Object.values(o).reduce((e,t)=>(null==t||t.forEach(t=>e.add(t)),e),new Set);return[...i]},[e,t]),r=(0,b.useMemo)(()=>n.map(t=>{let n=n7.farmsV3ConfigChainMap[e],r=n.find(e=>e.lpAddress.toLowerCase()===t.toLowerCase());if(r)return r}).filter(e=>!!e),[n,e]);return{tokenPairs:r}},rt=n(38957),rn=n(11026),rr=n(95164),ro=n(39293),ri=n(17884),ra=n(66130),rl=n(15495),rs=n(40916),rd=n.n(rs),ru=n(33740),rc=n(33360),rp=n(63633),rm=n(19117),rx=n(18846),rh=n.n(rx),HotTokenList_TradingRewardIcon=e=>{let{pairs:t}=e,{t:n}=(0,p.Z)(),r=(0,T.useRouter)(),{targetRef:o,tooltip:i,tooltipVisible:a}=(0,ev.Z)((0,c.jsxs)(x.Z,{flexDirection:"column",width:300,children:[(0,c.jsx)(eT.Z,{bold:!0,children:n("This token contains trading pair(s) eligible for earning CAKE by trading:")}),(0,c.jsx)(x.Z,{flexDirection:"column",children:t.map(e=>(0,c.jsx)(eT.Z,{bold:!0,as:"li",children:`${e.lpSymbol} - ${e.feeAmount/1e4}%`},e.lpAddress))}),(0,c.jsxs)(eT.Z,{mt:"10px",children:[(0,c.jsx)(eT.Z,{bold:!0,as:"span",children:n("Trade now or check out the campaign page to learn more")}),(0,c.jsx)(eT.Z,{style:{cursor:"pointer"},bold:!0,as:"span",color:"primary",ml:"4px",onClick:e=>{e.stopPropagation(),e.preventDefault(),r.push("/trading-reward")},children:n("learn more")})]})]}),{placement:"top"});return(0,c.jsxs)(M.ZP,{width:24,height:24,mr:"4px",children:[(0,c.jsx)(rh(),{width:24,height:24,ref:o,alt:"token-reward-icon",src:"/images/swap/token-reward-icon.png"}),a&&i]})},rf=n(98672);let rg=eP.zo.div`
  display: grid;
  grid-gap: 1em;
  align-items: center;

  padding: 0 24px;

  grid-template-columns: 4fr 1fr 1fr 2fr;

  @media screen and (max-width: 900px) {
    grid-template-columns: 2fr repeat(3, 1fr);
  }

  @media screen and (max-width: 800px) {
    grid-template-columns: 2fr repeat(3, 1fr);
    & :nth-child(6) {
      display: none;
    }
  }

  @media screen and (max-width: 670px) {
    grid-template-columns: 2fr 1fr 1fr 2fr;
  }
`,ry=(0,eP.zo)(x.Z)`
  width: 100%;
  flex-direction: column;
  gap: 16px;
  background-color: ${e=>{let{theme:t}=e;return t.card.background}};
  border: 1px solid ${e=>{let{theme:t}=e;return t.colors.cardBorder}};

  @media screen and (max-width: 575px) {
    max-height: 450px;
    overflow-y: auto;
  }
`,rv=(0,eP.zo)(rl.a)`
  text-decoration: none;
  &:hover {
    cursor: pointer;
    opacity: 0.7;
  }
`,rT=(0,eP.zo)(ra.X)`
  border-radius: 50%;
  width: 24px;
  height: 24px;
  @media screen and (max-width: 670px) {
    width: 16px;
    height: 16px;
  }
`,rb=(0,eP.zo)(rp._J)`
  display: flex;
  align-items: center;
  gap: 5px;
`,rj=(0,eP.zo)(tb.Z)`
  padding: 4px 8px;
  border-radius: 8px;
  width: 25px;
  height: 25px;
  margin-left: 3px;
  border-color: ${e=>{let{theme:t}=e;return t.colors.cardBorder}};
  background: ${e=>{let{theme:t}=e;return t.isDark?t.colors.backgroundDisabled:t.colors.input}};
  path {
    fill: ${e=>{let{theme:t}=e;return t.isDark?"rgba(255, 255, 255, 0.2)":"#B4ACCF"}};
  }
  &.is-asc {
    background: ${e=>{let{theme:t}=e;return t.isDark?t.colors.input:t.colors.textSubtle}};
    path:first-child {
      fill: rgba(255, 255, 255, 1);
    }
    path:last-child {
      fill: rgba(255, 255, 255, 0.3);
    }
  }
  &.is-desc {
    background: ${e=>{let{theme:t}=e;return t.isDark?t.colors.input:t.colors.textSubtle}};
    path:first-child {
      fill: rgba(255, 255, 255, 0.3);
    }
    path:last-child {
      fill: rgba(255, 255, 255, 1);
    }
  }
`,TableLoader=()=>{let e=(0,c.jsxs)(rg,{children:[(0,c.jsx)(rt.Z,{}),(0,c.jsx)(rt.Z,{}),(0,c.jsx)(rt.Z,{}),(0,c.jsx)(rt.Z,{}),(0,c.jsx)(rt.Z,{}),(0,c.jsx)(rt.Z,{}),(0,c.jsx)(rt.Z,{}),(0,c.jsx)(rt.Z,{}),(0,c.jsx)(rt.Z,{})]});return(0,c.jsxs)(c.Fragment,{children:[e,e,e]})},DataRow=e=>{var t;let{tokenData:n,type:r,handleOutputSelect:o,dataSource:i}=e,{t:a}=(0,p.Z)(),{theme:l}=(0,tX.ZP)(),{isXs:s,isSm:d}=(0,m.Z)(),u=(0,ru.U1)(),{chainId:h}=(0,O.g)(),f=(0,es.xP)(n.address),g=(0,b.useMemo)(()=>f?new U.WU(h,f,n.decimals,n.symbol):null,[n,h,f]),y=(0,b.useMemo)(()=>(0,rf.H)(h,n.address,i,u),[i,n.address,u,h]);if(!f)return null;let v=i===n8.A.V3&&(null==n?void 0:null===(t=n.pairs)||void 0===t?void 0:t.length)>0;return(0,c.jsx)(rv,{to:y,children:(0,c.jsxs)(rg,{style:{gap:"8px"},children:[(0,c.jsxs)(x.Z,{flexWrap:"wrap",width:"100%",justifyContent:"flex-start",alignItems:"center",children:[(0,c.jsx)(rT,{size:"24px",currency:g}),(s||d)&&(0,c.jsx)(eT.Z,{ml:"4px",children:n.symbol}),!s&&!d&&(0,c.jsxs)(x.Z,{marginLeft:"10px",children:[(0,c.jsx)(eT.Z,{children:n.name}),(0,c.jsxs)(eT.Z,{ml:"8px",children:["(",n.symbol,")"]})]})]}),("priceChange"===r||"liquidity"===r)&&(0,c.jsx)(x.Z,{flexWrap:"wrap",width:"100%",justifyContent:"center",alignItems:"center",children:(0,c.jsxs)(eT.Z,{fontWeight:400,children:["$",(0,rc.d)(n.priceUSD,{notation:"standard"})]})}),"liquidity"!==r&&(0,c.jsx)(x.Z,{flexWrap:"wrap",width:"100%",justifyContent:"center",alignItems:"center",children:(0,c.jsx)(eT.Z,{fontWeight:400,children:(0,c.jsx)(rm.Z,{value:n.priceUSDChange,fontWeight:400})})}),"volume"===r&&(0,c.jsxs)(eT.Z,{fontWeight:400,children:["$",(0,rc.d)(n.volumeUSD)]}),"liquidity"===r&&(0,c.jsxs)(eT.Z,{fontWeight:400,children:["$",(0,rc.d)(n.tvlUSD)]}),(0,c.jsxs)(x.Z,{alignItems:"center",justifyContent:"flex-end",children:[v&&(0,c.jsx)(HotTokenList_TradingRewardIcon,{pairs:n.pairs}),(0,c.jsx)(tb.Z,{variant:"text",scale:"sm",p:"0",onClick:e=>{e.stopPropagation(),e.preventDefault(),g&&o(g),(0,nI.n0)(n.symbol)},style:{color:l.colors.textSubtle},children:a("Trade")}),(0,c.jsx)(eT.Z,{pl:"8px",pr:"4px",lineHeight:"100%",color:"rgba(122, 110, 170, 0.3)",children:"|"}),(0,c.jsx)(rn.Z,{color:l.colors.textSubtle})]})]})})},rw={name:"name",volumeUSD:"volumeUSD",liquidityUSD:"liquidityUSD",priceUSD:"priceUSD",priceUSDChange:"priceUSDChange",priceUSDChangeWeek:"priceUSDChangeWeek"};var SwapTokenTable=e=>{let{tokenDatas:t,maxItems:n=10,defaultSortField:r=rw.volumeUSD,type:o,handleOutputSelect:i,dataSource:a}=e,[l,s]=(0,b.useState)(rw[r]),{isMobile:d}=(0,m.Z)();(0,b.useEffect)(()=>{r&&(s(r),g(1))},[r]);let[u,x]=(0,b.useState)(!0),{t:h}=(0,p.Z)(),[f,g]=(0,b.useState)(1),[y,v]=(0,b.useState)(1);(0,b.useEffect)(()=>{let e=1;t&&(t.length%n==0&&(e=0),v(Math.floor(t.length/n)+e))},[n,t]);let T=(0,b.useMemo)(()=>t?rd()(t,e=>e[l],u?"desc":"asc").slice(n*(f-1),f*n):[],[t,n,f,u,l]),j=(0,b.useCallback)(e=>{s(e),x(l!==e||!u)},[u,l]),w=(0,b.useCallback)(e=>{let t=u?"is-desc":"is-asc";return l===e?t:""},[u,l]);return t?(0,c.jsxs)(rp.y6,{children:[(0,c.jsxs)(rg,{children:[(0,c.jsx)(rb,{color:"secondary",fontSize:"12px",bold:!0,onClick:()=>j(rw.name),textTransform:"uppercase",children:h("Token Name")}),("priceChange"===o||"liquidity"===o)&&(0,c.jsxs)(rb,{color:"secondary",fontSize:"12px",bold:!0,onClick:()=>j(rw.priceUSD),textTransform:"uppercase",children:[h("Price")," ",(0,c.jsx)(rj,{scale:"sm",variant:"subtle",className:w(rw.priceUSD),children:(0,c.jsx)(rr.Z,{})})]}),"liquidity"!==o&&(0,c.jsxs)(rb,{color:"secondary",fontSize:"12px",bold:!0,onClick:()=>j(rw.priceUSDChange),textTransform:"uppercase",children:[h("Change")," ",(0,c.jsx)(rj,{scale:"sm",variant:"subtle",className:w(rw.priceUSDChange),children:(0,c.jsx)(rr.Z,{})})]}),"liquidity"===o&&(0,c.jsxs)(rb,{color:"secondary",fontSize:"12px",bold:!0,onClick:()=>j(rw.liquidityUSD),textTransform:"uppercase",children:[h("Liquidity"),(0,c.jsx)(rj,{scale:"sm",variant:"subtle",className:w(rw.liquidityUSD),children:(0,c.jsx)(rr.Z,{})})]}),"volume"===o&&(0,c.jsxs)(rb,{color:"secondary",fontSize:"12px",bold:!0,onClick:()=>j(rw.volumeUSD),textTransform:"uppercase",children:[h("Volume 24H")," ",(0,c.jsx)(rj,{scale:"sm",variant:"subtle",className:w(rw.volumeUSD),children:(0,c.jsx)(rr.Z,{})})]})]}),(0,c.jsxs)(ry,{children:[(0,c.jsx)(rp.SS,{}),T.length>0?(0,c.jsxs)(c.Fragment,{children:[T.map((e,t)=>e?(0,c.jsxs)(b.Fragment,{children:[(0,c.jsx)(DataRow,{dataSource:a,index:(f-1)*10+t,tokenData:e,type:o,handleOutputSelect:i}),(0,c.jsx)(rp.SS,{})]},e.address):null),!d&&(0,c.jsxs)(rp.Ob,{children:[(0,c.jsx)(rp.Eh,{onClick:()=>{g(1===f?f:f-1)},children:(0,c.jsx)(ro.Z,{color:1===f?"textDisabled":"primary"})}),(0,c.jsx)(eT.Z,{children:h("Page %page% of %maxPage%",{page:f,maxPage:y})}),(0,c.jsx)(rp.Eh,{onClick:()=>{g(f===y?f:f+1)},children:(0,c.jsx)(ri.Z,{color:f===y?"textDisabled":"primary"})})]})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(TableLoader,{}),(0,c.jsx)(M.ZP,{})]})]})]}):(0,c.jsx)(rt.Z,{})},rA=n(6533),rk=n(16872);let parseV2TokenData=e=>{let{name:t,symbol:n,address:r,decimals:o,priceUSD:i,priceUSDChange:a,volumeUSD:l,pairs:s,liquidityUSD:d,liquidityUSDChange:u}=e;return{name:t,symbol:n,address:r,tvlUSD:d,tvlUSDChange:u,priceUSD:i,priceUSDChange:a,volumeUSD:l,pairs:s,decimals:o}},parseV3TokenData=e=>{let{name:t,symbol:n,decimals:r,address:o,priceUSD:i,priceUSDChange:a,volumeUSD:l,tvlUSD:s,tvlUSDChange:d}=e;return{name:t,symbol:n,address:o,decimals:r,tvlUSD:s,tvlUSDChange:d,priceUSD:i,priceUSDChange:a,volumeUSD:l}},useChainWhiteList=e=>{let t=(0,ec.Dv)(ep.Ti),n=(0,b.useMemo)(()=>{var e;let n=null===(e=t[ed.gi])||void 0===e?void 0:e.current;return n?n.tokens.map(e=>e.address.toLowerCase()):[]},[t]);return e!==$.a_.BSC?null:n},useTokenHighLightList=()=>{let{chainId:e}=(0,O.g)(),t=useChainWhiteList(e),n=(0,ru.lb)(t||[],!1),r=(0,ru.bm)({enable:!!(!t&&e),targetChainName:e?rA.VQ[e]:void 0}),o=(0,b.useMemo)(()=>(null==r?void 0:r.map(e=>{let{address:t}=e;return t}))||[],[r]),i=(0,rk.xu)(t||o,e),a=(0,b.useMemo)(()=>{var e,t;return{v2Tokens:null===(e=n||r)||void 0===e?void 0:e.map(parseV2TokenData),v3Tokens:null!==(t=null==i?void 0:i.map(parseV3TokenData))&&void 0!==t?t:[]}},[n,r,i]);return a},rS=(0,eP.zo)(x.Z)`
  border: 1px solid ${e=>{let{theme:t}=e;return t.colors.cardBorder}};
  overflow: hidden;
  border-radius: 32px;
  > div:first-child {
    min-height: 56px;
  }
  > div:first-child > div {
    background: ${e=>{let{theme:t}=e;return t.isDark?"rgba(55, 47, 71,0.5)":"rgba(238, 234, 244, 0.5)"}};
    overflow: hidden;
  }
`,rC=(0,eP.zo)(n9.o)`
  cursor: pointer;
  background-color: ${e=>{let{theme:t,isActive:n}=e;return n?t.isDark?"rgb(45,48,72)":"#ffffff":"transparent"}};
  ${e=>{let{theme:t}=e;return t.mediaQueries.sm}} {
    background-color: ${e=>{let{theme:t,isActive:n}=e;return n?t.isDark?"rgb(45,48,72)":"#f4fdff":"transparent"}};
  }
`,rE=eP.zo.div`
  padding-top: 10px;
  ${e=>{let{theme:t}=e;return t.mediaQueries.lg}} {
    width: 725px;
    padding: 24px;
    box-sizing: border-box;
    background: ${e=>{let{theme:t}=e;return t.isDark?"rgba(39, 38, 44, 0.5)":"rgba(255, 255, 255, 0.5)"}};
    border-top: none;
    border-radius: 0px 0px 32px 32px;
  }
`,rP=eP.zo.div`
  padding: 0px 24px 12px;
  ${e=>{let{theme:t}=e;return t.mediaQueries.lg}} {
    padding: 0px 0px 12px;
    margin-bottom: 24px;
  }
`,rZ={[$.a_.BSC]:1e5,[$.a_.ETHEREUM]:5e4};var rI=(0,b.memo)(e=>{let{handleOutputSelect:t}=e,{query:n}=(0,T.useRouter)(),{chainId:r}=(0,O.g)(),{v2Tokens:o,v3Tokens:i}=useTokenHighLightList(),[a,l]=(0,b.useState)(n8.A.V3),[s,d]=(0,b.useState)(0),{isMobile:u}=(0,m.Z)(),[h,f]=(0,b.useState)(!1),{tokenPairs:g}=hooks_useTradingRewardTokenList();(0,b.useEffect)(()=>{n.showTradingReward&&f(!0)},[n,f]);let y=(0,b.useMemo)(()=>o.filter(e=>0!==e.priceUSD&&0!==e.priceUSDChange&&0!==e.volumeUSD&&e.tvlUSD>=rZ[r]).map(e=>{var t;let n=null==e?void 0:null===(t=e.address)||void 0===t?void 0:t.toLowerCase(),r=null==g?void 0:g.filter(e=>{var t,r,o,i;return(null==e?void 0:null===(r=e.token)||void 0===r?void 0:null===(t=r.address)||void 0===t?void 0:t.toLowerCase())===n||(null==e?void 0:null===(i=e.quoteToken)||void 0===i?void 0:null===(o=i.address)||void 0===o?void 0:o.toLowerCase())===n});return{...e,pairs:r}}),[o,r,g]),v=(0,b.useMemo)(()=>i.filter(e=>0!==e.priceUSD&&0!==e.priceUSDChange&&0!==e.volumeUSD&&e.tvlUSD>=rZ[r]).map(e=>{var t;let n=null==e?void 0:null===(t=e.address)||void 0===t?void 0:t.toLowerCase(),r=null==g?void 0:g.filter(e=>{var t,r,o,i;return(null==e?void 0:null===(r=e.token)||void 0===r?void 0:null===(t=r.address)||void 0===t?void 0:t.toLowerCase())===n||(null==e?void 0:null===(i=e.quoteToken)||void 0===i?void 0:null===(o=i.address)||void 0===o?void 0:o.toLowerCase())===n});return{...e,pairs:r}}),[i,r,g]),j=(0,b.useMemo)(()=>h?v.filter(e=>e.pairs.length>0):v,[h,v]),{t:w}=(0,p.Z)();return(0,c.jsxs)(rS,{flexDirection:"column",children:[(0,c.jsxs)(n9._,{children:[(0,c.jsx)(rC,{isActive:a===n8.A.V3,onClick:()=>l(n8.A.V3),children:w("V3")}),(0,c.jsx)(rC,{isActive:a===n8.A.V2,onClick:()=>l(n8.A.V2),children:w("V2")})]}),(0,c.jsxs)(rE,{children:[(0,c.jsx)(rP,{children:(0,c.jsxs)(n6.Z,{activeIndex:s,onItemClick:d,fullWidth:!0,scale:"sm",variant:"subtle",children:[(0,c.jsx)(n3.Z,{children:w(r===$.a_.BSC?"Price Change":"Liquidity")}),(0,c.jsx)(n3.Z,{children:w("Volume (24H)")})]})}),a===n8.A.V3&&g.length>0&&(0,c.jsxs)(x.Z,{mb:"24px",alignItems:"center",ml:["20px","20px","20px","20px","-4px"],onClick:()=>f(!h),style:{cursor:"pointer"},children:[(0,c.jsx)(nr.Z,{scale:"sm",name:"confirmed",type:"checkbox",checked:h,onChange:()=>f(!h)}),(0,c.jsx)(eT.Z,{ml:"8px",style:{userSelect:"none"},children:w("Show pairs with trading rewards")})]}),0===s?(0,c.jsx)(SwapTokenTable,{dataSource:a,tokenDatas:a===n8.A.V3?j:y,type:r===$.a_.BSC?"priceChange":"liquidity",defaultSortField:r===$.a_.BSC?"priceUSDChange":"liquidityUSD",maxItems:u?100:6,handleOutputSelect:t}):(0,c.jsx)(SwapTokenTable,{dataSource:a,tokenDatas:a===n8.A.V3?j:y,type:"volume",defaultSortField:"volumeUSD",maxItems:u?100:6,handleOutputSelect:t})]})]})});let rN=(0,eP.zo)(x.Z)`
  flex-shrink: 0;
  height: fit-content;
  padding: 0 16px;
  margin-top: 100px;

  ${e=>{let{theme:t}=e;return t.mediaQueries.lg}} {
    padding: 0 40px;
  }

  ${e=>{let{theme:t}=e;return t.mediaQueries.xxl}} {
    ${e=>{let{$isChartExpanded:t}=e;return t?"padding: 0 120px":"padding: 0 40px"}};
  }
`,rM=(0,eP.zo)(M.ZP)`
  width: 400px;
`;function Swap(){let{query:e}=(0,T.useRouter)(),{isDesktop:t}=(0,m.Z)(),{isChartExpanded:n,isChartDisplayed:r,setIsChartDisplayed:o,setIsChartExpanded:i,isChartSupported:a,isHotTokenSupported:l}=(0,b.useContext)(P.a),[s,d]=(0,k.H)(),{t:u}=(0,p.Z)(),[Z,I]=(0,b.useState)(!0);(0,b.useEffect)(()=>{Z&&e.showTradingReward&&(I(!1),d(!0),!s&&r&&(null==o||o(e=>!e)))},[Z,r,s,e,d,o]);let{[S.gN.INPUT]:{currencyId:N},[S.gN.OUTPUT]:{currencyId:M}}=(0,C.dU)(),U=(0,A.U8)(N),D=(0,A.U8)(M),R={[S.gN.INPUT]:null!=U?U:void 0,[S.gN.OUTPUT]:null!=D?D:void 0},O=(0,C.yF)(N,U,M,D,a),F=useWarningImport();(0,C.jj)();let{onCurrencySelection:_}=(0,j._)(),B=(0,b.useCallback)(e=>{_(S.gN.OUTPUT,e),F(e);let t=(0,w.H)(e);t===N&&(0,y.Z)("inputCurrency",M),(0,y.Z)("outputCurrency",t)},[N,M,_,F]);return(0,c.jsx)(E.Z,{removePadding:n,hideFooterOnDesktop:n,children:(0,c.jsxs)(x.Z,{width:["328px","100%"],height:"100%",justifyContent:"center",position:"relative",alignItems:"flex-start",children:[t&&a&&(0,c.jsx)(n5.Z,{inputCurrencyId:N,inputCurrency:R[S.gN.INPUT],outputCurrencyId:M,outputCurrency:R[S.gN.OUTPUT],isChartExpanded:n,setIsChartExpanded:i,isChartDisplayed:r,currentSwapPrice:O}),!t&&a&&(0,c.jsx)(h.Z,{content:(0,c.jsx)(n5.Z,{inputCurrencyId:N,inputCurrency:R[S.gN.INPUT],outputCurrencyId:M,outputCurrency:R[S.gN.OUTPUT],isChartExpanded:n,setIsChartExpanded:i,isChartDisplayed:r,currentSwapPrice:O,isFullWidthContainer:!0,isMobile:!0}),isOpen:r,setIsOpen:o}),t&&s&&l&&(0,c.jsx)(rI,{handleOutputSelect:B}),(0,c.jsx)(f.kw,{isOpen:!t&&s&&l,onDismiss:()=>d(!1),children:(0,c.jsx)(g.ZP,{style:{padding:0},title:u("Top Token"),onDismiss:()=>d(!1),bodyPadding:"0px",children:(0,c.jsx)(rI,{handleOutputSelect:e=>{B(e),d(!1)}})})}),(0,c.jsx)(x.Z,{flexDirection:"column",children:(0,c.jsx)(rN,{$isChartExpanded:n,children:(0,c.jsx)(rM,{mt:n?"24px":"0",children:(0,c.jsx)(v.j,{children:(0,c.jsx)(V3SwapForm,{})})})})})]})})}},16622:function(e,t,n){var r=n(97458);n(52983);var o=n(91204);t.Z=e=>(0,r.jsx)(o.Z,{viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{d:"M19.36 4.86l2.79 2.79c.19.19.19.51-.01.7l-2.79 2.79c-.31.32-.85.1-.85-.35V9h-14c-.55 0-1-.45-1-1s.45-1 1-1h14V5.21c0-.45.54-.67.86-.35zM5.64 19.14l-2.79-2.79a.492.492 0 01.01-.7l2.79-2.79c.31-.32.85-.1.85.35V15h14c.55 0 1 .45 1 1s-.45 1-1 1h-14v1.79c0 .45-.54.67-.86.35z"})})},11026:function(e,t,n){var r=n(97458);n(52983);var o=n(91204);t.Z=e=>(0,r.jsx)(o.Z,{viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{d:"M6 10C4.9 10 4 10.9 4 12C4 13.1 4.9 14 6 14C7.1 14 8 13.1 8 12C8 10.9 7.1 10 6 10ZM18 10C16.9 10 16 10.9 16 12C16 13.1 16.9 14 18 14C19.1 14 20 13.1 20 12C20 10.9 19.1 10 18 10ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10Z"})})},36197:function(e,t,n){var r=n(97458);n(52983);var o=n(91204);t.Z=e=>(0,r.jsx)(o.Z,{viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{d:"M15.5 13.9996H14.71L14.43 13.7296C15.63 12.3296 16.25 10.4196 15.91 8.38965C15.44 5.60965 13.12 3.38965 10.32 3.04965C6.09001 2.52965 2.53002 6.08965 3.05002 10.3196C3.39002 13.1196 5.61002 15.4396 8.39002 15.9096C10.42 16.2496 12.33 15.6296 13.73 14.4296L14 14.7096V15.4996L18.25 19.7496C18.66 20.1596 19.33 20.1596 19.74 19.7496C20.15 19.3396 20.15 18.6696 19.74 18.2596L15.5 13.9996ZM9.50002 13.9996C7.01002 13.9996 5.00002 11.9896 5.00002 9.49965C5.00002 7.00965 7.01002 4.99965 9.50002 4.99965C11.99 4.99965 14 7.00965 14 9.49965C14 11.9896 11.99 13.9996 9.50002 13.9996Z"})})},95164:function(e,t,n){var r=n(97458);n(52983);var o=n(91204);t.Z=e=>(0,r.jsxs)(o.Z,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsx)("path",{d:"M8.65 3.35002L5.86 6.14002C5.54 6.45002 5.76 6.99002 6.21 6.99002H8V13C8 13.55 8.45 14 9 14C9.55 14 10 13.55 10 13V6.99002H11.79C12.24 6.99002 12.46 6.45002 12.14 6.14002L9.35 3.35002C9.16 3.16002 8.84 3.16002 8.65 3.35002Z"}),(0,r.jsx)("path",{d:"M16 11V17.01H17.8C18.24 17.01 18.47 17.55 18.15 17.86L15.36 20.64C15.16 20.83 14.85 20.83 14.65 20.64L11.86 17.86C11.54 17.55 11.76 17.01 12.21 17.01H14V11C14 10.45 14.45 10 15 10C15.55 10 16 10.45 16 11Z"})]})}}]);
//# sourceMappingURL=4911-4732452af9569d03.js.map